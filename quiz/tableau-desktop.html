<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tableau Desktop Specialist 模擬試験（全114問・完全版）</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
      -webkit-font-smoothing: antialiased;
    }
    .question-text { line-height: 1.9; letter-spacing: 0.02em; }
    .option-text { line-height: 1.7; letter-spacing: 0.01em; }
    .explanation-text { line-height: 2.0; letter-spacing: 0.02em; }
    .explanation-item { margin-bottom: 1rem; padding-left: 0.5rem; border-left: 3px solid #93c5fd; }
    .explanation-item:last-child { margin-bottom: 0; }
    .explanation-item.correct { border-left-color: #22c55e; background: rgba(34, 197, 94, 0.05); padding: 0.5rem; border-radius: 0 0.5rem 0.5rem 0; }
    .explanation-item.incorrect { border-left-color: #d1d5db; }
    .wrong-explanation-item { margin-bottom: 0.75rem; padding: 0.5rem; border-radius: 0.25rem; }
    .wrong-explanation-item.correct { background: rgba(34, 197, 94, 0.1); }
    .wrong-explanation-item.incorrect { background: rgba(243, 244, 246, 0.5); }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <div id="app" class="p-4"></div>
  <script>
const allQuestions = [{id:1,category:"データ接続・データソース",question:"以下のどのシナリオでブレンドを使用すべきですか？",options:["A. 結合するデータは同じ構造を持つが、異なる年のデータで構成されている。","B. 結合されたデータは、現在のワークブックの多くのワークシートで使用される。","C. 結合するデータの詳細レベルが異なる。","D. 上記のすべて。"],answer:"C",explanation:"A. 誤り このシナリオは、データを行として追加する「ユニオン」の典型的な使用例です。ブレンドは、異なるデータソースの列をリンクするために使用されます。\nB. 誤り 結合したデータをワークブック全体で広く使用する場合は、データソースレベルでの「結合（Join）」が推奨されます。ブレンドは通常、ワークシート単位で設定されます。\nC. 正解 ブレンドは、集計レベルが異なるデータソース（例：日次のトランザクションデータと月次の目標データ）を、共通のディメンション（例：日付）を使ってリンクさせる場合に最適です。\nD. 誤り AとBはブレンドの適切なシナリオではないため、この選択肢は誤りです。"},{id:2,category:"データ接続・データソース",question:"Tableau Desktopにおいて、データソースの複数の表（テーブル）を組み合わせる際、各表の共通項目（フィールド）に基づいて行を結合する操作を何と呼びますか？",options:["A. ブレンド (Blending)","B. ユニオン (Union)","C. ジョイン (Join)","D. グループ化 (Grouping)"],answer:"C",explanation:"A. ブレンド (Blending) データブレンドは、異なるデータソースからのデータを、共通の項目をキーとしてビューレベルで集計・結合する機能です。これは単一のデータソース内の複数の表を結合する操作とは異なります。\nB. ユニオン (Union) ユニオンは、複数の表を縦方向に積み重ねて結合する操作で、各表が同じ構造を持っている必要があります。これは、各表の共通項目に基づいて行を横方向に結合する操作ではありません。\nC. ジョイン (Join) 正解です。ジョインは、Tableau Desktopにおいて、単一のデータソース内の複数の表を、指定された共通の項目（キー）に基づいて横方向に結合し、新しい行を作成する操作です。\nD. グループ化 (Grouping) グループ化は、特定の項目の値に基づいてデータを集約し、より大きなカテゴリを作成する機能です。これは複数の表を結合する操作とは関係ありません。"},{id:3,category:"データ接続・データソース",question:"2つのデータソースをブレンドする場合、デフォルトの結合タイプは何ですか？",options:["A. 内部結合","B. 外部結合","C. 左外部結合","D. 右結合"],answer:"C",explanation:"A. 内部結合 内部結合は、両方のデータソースに一致するデータのみを保持します。Tableauのデータブレンドは、プライマリデータソースのすべてのメンバーを保持するため、内部結合とは異なります。\nB. 外部結合 (完全) 外部結合は、両方のデータソースのすべてのレコードを保持します。Tableauのブレンドはプライマリデータソースを基準にするため、(完全) 外部結合とは異なります。\nC. 左外部結合 正解です。Tableauのデータブレンドは、プライマリ（左側）データソースのすべてのメンバーをビューに保持し、セカンダリ（右側）データソースから一致するデータのみを取得するという点で、概念的に左外部結合（Left outer join）に似ています。\nD. 右結合 右結合は、セカンダリ（右側）データソースのすべてのメンバーを保持しますが、Tableauのブレンドは常にプライマリデータソースのメンバーを基準にするため、右結合とは異なります。"},{id:4,category:"データ接続・データソース",question:"データソースの従業員テーブルに接続し、従業員マネージャーテーブルとの結合を追加しています。従業員テーブルのすべてのレコードと、従業員マネージャーテーブルの一致するレコードのみを表示したい場合、どの結合タイプを使用しますか？",options:["A. 内部結合","B. 外部結合","C. 左結合","D. 右結合"],answer:"C",explanation:"A. 内部結合 内部結合は、両方のテーブル（従業員テーブルと従業員マネージャーテーブル）で一致するレコードのみを保持します。要件は「従業員テーブルのすべてのレコード」を保持することであるため、これは不適切です。\nB. 外部結合 「外部結合」は、文脈によりますが、通常「完全外部結合」を指す場合、両方のテーブルのすべてのレコードを保持します。要件は従業員テーブルの全レコードと、それに一致するマネージャーテーブルのレコードのみであるため、これも不適切です。\nC. 左結合 正解です。左結合（左外部結合）は、左側（最初）のテーブルである「従業員テーブル」のすべてのレコードを保持し、右側（2番目）のテーブルである「従業員マネージャーテーブル」からは一致するレコードのみを取得します。これは要件に完全に一致します。\nD. 右結合 右結合（右外部結合）は、右側のテーブル（従業員マネージャーテーブル）のすべてのレコードを保持し、左側のテーブル（従業員テーブル）からは一致するレコードのみを保持します。これは要件とは逆の動作になります。"},{id:5,category:"データ接続・データソース",question:"2つのテーブル「orders」と「returns」を持つExcelシートに接続しました。データ抽出（エクストラクト）を作成し、「複数のテーブル」として保存する必要があります。しかし、「複数のテーブル」オプションがグレーアウトしています。考えられる理由は何ですか？",options:["A. ユニオンを実行した後にのみ有効になります","B. 結合（Join）を実行した後にのみ有効になります","C. データブレンディングを実行した後にのみ有効になります","D. ビジュアライゼーションをTableau Serverに保存した後にのみ有効になります"],answer:"B",explanation:"A. 誤り ユニオンはテーブルを行方向（縦）に結合し、Tableau上では単一の論理テーブルとして扱われます。「複数のテーブル」オプションは、複数のテーブル構造を個別に保持するためのものなので、ユニオンを実行しても有効にはなりません。\nB. 正解 「複数のテーブル」として抽出するオプションは、データソース内のテーブルが結合（Join）またはリレーションシップで複数接続されている場合にのみ有効になります。このオプションは、各テーブルのデータを抽出ファイル内に個別に保存します。結合が定義されていない単一のテーブルの場合、個別に保存すべき「複数のテーブル」が存在しないため、オプションは無効（グレーアウト）になります。\nC. 誤り データブレンディングは、データソースレベルではなく、ワークシートレベルで実行されます。データ抽出の設定はデータソースレベルで行うため、ブレンディングはこのオプションに影響を与えません。\nD. 誤り Tableau Serverへの保存（パブリッシュ）は、抽出設定が完了した後に行う操作です。抽出オプションの有効/無効は、Tableau Desktopのデータソースページで決定されるため、サーバーへの保存とは関係ありません。"},{id:6,category:"データ接続・データソース",question:"アナリストが、売上データを含む「注文（Orders）テーブル」と、返品情報を含む「返品（Returns）テーブル」のデータを結合して分析しています。アナリストは、返品された注文の金額を計算すると同時に、返品が発生しなかった注文も含めたすべての注文データを保持する必要があります。この目的を達成するために、データソースペインで使用すべき適切な結合タイプはどれですか？",options:["A. 内部結合","B. 左結合","C. 右結合","D. 完全外部結合"],answer:"B",explanation:"A. 内部結合 内部結合は、結合キーの値が両方のテーブルで一致するレコードのみを返します。この場合、返品が発生した注文（両方のテーブルに存在する）のデータのみが残り、返品されなかった注文（返品テーブルに一致がない）は結果セットから除外されてしまいます。\nB. 左結合 正解です。左結合は、左側のテーブル（このケースでは「注文テーブル」）のすべてのレコードと、右側のテーブル（「返品テーブル」）の対応する一致レコードを返します。返品されなかった注文は保持され、返品テーブルの項目にはNull値が表示されるため、すべての注文を含めるという要件を満たします。\nC. 右結合 右結合は、右側のテーブル（このケースでは「返品テーブル」）のすべてのレコードと、左側のテーブル（「注文テーブル」）の対応する一致レコードを返します。これは、返品データが主となり、返品されなかった注文は含まれません。\nD. 完全外部結合 完全外部結合は、両方のテーブルのすべてのレコードを返します。返品されなかった注文は含まれますが、もし返品テーブルに注文テーブルに存在しない孤立した返品レコードがあった場合、それらも含まれてしまいます。すべての注文データを含めるという要件には左結合が最も直接的かつ効率的です。"},{id:7,category:"データ接続・データソース",question:"アナリストが、表のタイトルや結合されたセル、コメントなどの不要な情報を含むExcelスプレッドシートに接続しました。その結果、Tableauが最初の数行をデータの一部として誤って読み込み、データソースペインで正しい列ヘッダー（項目名）を認識できていません。TableauでこのExcelファイルに接続した際、データソースペインで自動的に不要な行やコメントを特定し、適切なデータヘッダー（項目名）を自動的に認識させるために有効にすべき機能はどれですか？",options:["A. ピボット機能","B. データソースフィルター","C. カスタムSQL","D. データインタープリター"],answer:"D",explanation:"A. ピボット機能 ピボット機能は、複数の列を単一の列にまとめて行に変換するなど、データの構造（形状）を変更するために使用されます。初期の不要なメタデータやヘッダーの自動クリーンアップ機能ではありません。\nB. データソースフィルター データソースフィルターは、データソースの接続レベルで特定の条件に基づいて行を絞り込むために使用されますが、ヘッダーの行を自動的に識別してクリーンアップしたり、データの開始行を調整したりする機能は持っていません。\nC. カスタムSQL カスタムSQLは、データ接続時にSQLクエリを使用してデータを取得する方法ですが、Excelファイルの不要なメタデータや表のレイアウトを自動的に解釈してクリーンアップする機能は内蔵されていません。\nD. データインタープリター 正解です。データインタープリターは、Excelやテキストファイルなどのデータが表として最適にフォーマットされていない場合に、不要な行（ヘッダー、フッター、コメント）や書式設定を自動的に検出して削除し、データの範囲と正しい項目ヘッダー（列名）を特定するために設計された機能です。"},{id:8,category:"データ接続・データソース",question:"アナリストが、顧客情報を持つSQL Serverのデータベースと、Webサイトのトラフィック情報を持つGoogle Analyticsのデータソースを組み合わせて分析したいと考えています。両方のデータソースには共通の「顧客ID」項目がありますが、異なるサーバー上の接続タイプが異なるため、標準の結合（Join）機能は使用できません。このように異なるデータベースや接続タイプからデータを組み合わせて単一のビューを作成するために、Tableauで使用すべき機能はどれですか？",options:["A. データブレンド","B. クロスデータベース結合","C. ライブ接続","D. ユニオン"],answer:"A",explanation:"A. データブレンド 正解です。データブレンドは、異なるデータソース（特にGoogle AnalyticsのようなWebコネクタや、互いに結合できない異なるデータベース）からデータを組み合わせて、ビューレベルで共通の項目（ディメンション）に基づいて集計値を関連付けるために使用されます。\nB. クロスデータベース結合 クロスデータベース結合は、異なるデータベース（例えば、SQL ServerとOracle）に接続されたテーブルを結合できますが、Google AnalyticsのようなWebデータソースや特定のクラウドサービスなど、結合をサポートしていないコネクタ間では使用できません。\nC. ライブ接続 ライブ接続は、データが更新されるたびに元のデータソースにクエリを送信する接続タイプ（方法）であり、複数の異なるデータソースを組み合わせて分析する機能ではありません。\nD. ユニオン ユニオンは、データソースペインで、構造が同じ複数のテーブルを行方向に（垂直に）結合（追加）するために使用されます。共通のディメンションに基づいて異なるデータソースの列を結合する目的には適していません。"},{id:9,category:"データ接続・データソース",question:"Tableau 2020.2以降で導入された新しいデータモデルにおいて、アナリストは「リレーションシップ」を使用して複数のテーブルをデータソースに追加しました。これは、従来の「結合（Join）」とは異なるアプローチです。リレーションシップ（Relationships）が従来の結合（Joins）と比べて、データの粒度と集計の処理において主に異なる点として最も適切なものはどれですか？",options:["A. リレーションシップは、常に両方のテーブルで一致するレコードのみを返す内部結合として機能する","B. リレーションシップを使用するには、最初にすべてのデータソースを抽出に変換する必要がある","C. 従来の結合とは異なり、リレーションシップはデータソースフィルターの後に実行される","D. 従来の結合と異なり、リレーションシップは各テーブルの粒度を維持し、ビューのコンテキストに基づいて集計の重複を防ぐ"],answer:"D",explanation:"A. 誤り リレーションシップは、ビューで使用される項目に基づいて動的に結合タイプを調整します（例えば、メジャーをプルすると外部結合のように動作し、NULL値を処理する）。常に内部結合として機能するわけではありません。\nB. 誤り リレーションシップは、ライブ接続と抽出の両方で使用できます。抽出に変換することは必須ではありません。\nC. 誤り リレーションシップはデータソース定義の一部であり、従来の結合も同様です。主な違いは実行順序ではなく、データ結合のロジックとタイミングにあります。\nD. 正解 従来の結合は、データソースレベルでデータを結合し、重複行（ファンアウト）による集計値の誤りを引き起こす可能性がありました。リレーションシップは、個々のテーブルの粒度を分離したまま維持し、ビューに項目がドラッグされたときに初めて必要なレベルでデータを関連付けるため、集計の重複を防ぎます。"},{id:10,category:"データ接続・データソース",question:"データをブレンドするとき、データの代わりにNull値が表示されることがあります。その考えられる理由は何ですか？",options:["A. 結合するデータの詳細レベルが異なる。","B. プライマリとセカンダリのデータソースの値で、大文字と小文字の使い方が異なる。","C. セカンダリデータソースに、プライマリデータソースの対応する値が含まれていない。","D. ブレンドに使用している項目のデータ型が異なる。"],answer:"B",explanation:"A. 誤り データの詳細レベル（粒度）が異なることは、Null値が発生する理由ではなく、むしろデータブレンドを使用する主な理由の一つです。\nB. 正解 ブレンドのリンク項目は、大文字と小文字を区別します（例：\"Japan\" と \"japan\" は別物として扱われます）。大文字と小文字が異なると、データが一致しないと見なされ、Null値が発生する可能性があります。\nC. 正解 ブレンドは左外部結合に似ています。プライマリデータソースのすべての値がビューに表示されますが、セカンダリデータソースに対応する一致する値がない場合、そのセカンダリデータソースからの項目はNullになります。\nD. 正解 ブレンドでリンクする項目は、両方のデータソースで同じデータ型（例：両方とも「文字列」または両方とも「数値」）である必要があります。データ型が異なると、リレーションシップが正しく機能せず、Null値が発生します。",multiSelect:true,correctAnswers:["B","C","D"],numSelect:3},{id:11,category:"データ接続・データソース",question:"複数テーブル抽出（Multiple Table Extracts）の作成が推奨されるのはどのような場合ですか？",options:["A. 増分更新が設定されている場合","B. 抽出フィルターを使用してデータを制限している場合","C. 行レベルのセキュリティを適用する必要がある場合","D. 上記のいずれでもない"],answer:"C",explanation:"A. 誤り 増分更新は、抽出に新しいデータを追加する方法に関するものであり、抽出の構造（単一テーブルか複数テーブルか）を決定する主な理由ではありません。\nB. 誤り 抽出フィルターは、抽出の構造に関わらず、抽出に含まれるデータ量を減らすために使用されます。複数テーブル抽出を選択する理由とは直接関係ありません。\nC. 正解 行レベルセキュリティ（RLS）は、多くの場合、データテーブルとユーザー権限テーブルとの結合（またはリレーションシップ）に依存します。「複数のテーブル」として抽出を保存すると、Tableauはこれらのテーブル構造を保持し、クエリ時にユーザーに基づいて動的にセキュリティを適用できます。\nD. 誤り Cが正解であるため、この選択肢は誤りです。"},{id:12,category:"データ接続・データソース",question:"抽出はどのシナリオで作成できませんか？",options:["A. クロスデータベース結合を実行する場合","B. ブレンドを実行する場合","C. ユニオンを実行する場合","D. 従来の結合を実行する場合"],answer:"B",explanation:"A. 誤り クロスデータベース結合は、データソースレベルで実行されます。Tableauは、異なるデータベースのテーブルを結合した結果のデータソースから抽出を作成することをサポートしています。\nB. 正解 データブレンドは、Tableauのワークシートレベルで行われる操作であり、プライマリデータソースとセカンダリデータソースの集計データをビュー上で組み合わせます。抽出はデータソースレベルで作成されるため、ブレンドされた結果そのものを単一の抽出ファイルとして作成することはできません。\nC. 誤り ユニオンは、データソースレベルでテーブルを行方向（縦）に結合します。Tableauは、ユニオンされたテーブルから抽出を作成することをサポートしています。\nD. 誤り 従来の結合（同じデータソース内のテーブル結合）は、データソースレベルで実行されます。Tableauは、この結合されたデータソースから抽出を作成することをサポートしています。"},{id:13,category:"データ接続・データソース",question:"アナリストがデータブレンドを使用して、プライマリデータソースとセカンダリデータソースを統合しています。アナリストは、セカンダリデータソースのメジャーを使用して計算を行おうとしましたが、計算項目が常に集計値（SUMやAVGなど）に依存しなければならないという問題に直面しました。データブレンドを使用する場合、セカンダリデータソースのメジャーに課される最も重要な制限として最も適切なものはどれですか？",options:["A. セカンダリデータソースのディメンションを、プライマリソースのディメンションとリンクできない","B. セカンダリデータソースの項目は、リファレンスバンド（参照帯）の計算では使用できない","C. セカンダリデータソースの項目は、ダッシュボードアクションのターゲットとして使用できない","D. セカンダリデータソースのメジャーは、必ず集計（SUM, AVGなど）して使用しなければならない"],answer:"D",explanation:"A. 誤り リンク（共通ディメンション）は、データブレンドが機能するために必須です。これは制限ではなく、機能の前提条件です。\nB. 誤り セカンダリデータソースの集計された項目は、通常、リファレンスバンドを含め、ほとんどの分析機能で使用できます。\nC. 誤り セカンダリソースの項目は、ダッシュボードアクションのターゲットまたはソースとして通常使用できます。\nD. 正解 データブレンドでは、セカンダリデータソースは、プライマリデータソースの粒度で定義されたビューのディメンションに基づいて、集計された結果を返します。このため、セカンダリソースのメジャーを計算項目で使用する場合も、集計関数（SUM、AVGなど）を使用する必要があります。"},{id:14,category:"データ接続・データソース",question:"Tableau Desktopでワークブックのパフォーマンスを最適化するために、データソース全体ではなく、データの一部を高速でローカルに保存する機能は何と呼ばれますか？",options:["A. ライブ接続","B. データブレンド","C. データ抽出","D. データセット"],answer:"C",explanation:"A. ライブ接続 ライブ接続は、データが常に最新であることを保証するために、Tableauが基になるデータソースにリアルタイムで接続を維持する接続方法です。これはデータをローカルに保存してパフォーマンスを向上させる目的とは異なります。\nB. データブレンド データブレンドは、異なるデータソースからのデータをビューレベルで組み合わせる機能です。これは、単一のデータソースのサブセットを抽出してパフォーマンスを最適化する機能ではありません。\nC. データ抽出 正解です。データ抽出（Extract）は、データソース全体または特定のフィルタが適用されたデータの一部を高速でローカルに保存（.hyperファイルとして）する機能です。これにより、大規模なデータソースに対するクエリのパフォーマンスが向上し、オフラインでの作業も可能になります。\nD. データセット データセットは、Tableauではデータソースが接続する表や項目の集合を指す一般的な用語であり、特定のパフォーマンス最適化機能の名前ではありません。"},{id:15,category:"データ接続・データソース",question:"アナリストが、ローカルのExcelファイルに接続して作成したワークブックをTableau Serverに公開したいと考えています。公開後も、ユーザーが最新のデータを表示できるように、データソースをサーバー上で更新可能にしておく必要があります。この要件を満たし、ワークブックと一緒にデータソースを公開する際に、アナリストが取るべき最も適切な行動はどれですか？",options:["A. データ接続をライブ接続から抽出に切り替え、その抽出をワークブックと共に公開する","B. ワークブックを公開する前に、データソースをライブ接続として維持する","C. データソースを外部のクラウドストレージ（Google Driveなど）に移動してからワークブックを公開する","D. ワークブックをTWBファイル形式で保存し、それをTableau Serverにアップロードする"],answer:"A",explanation:"A. 正解 ローカルのExcelファイルのようなファイルベースのデータソースにライブ接続を使用すると、Tableau Serverはローカルファイルにアクセスできないため、データ接続が切断されます。抽出（Extract）を作成し、それをワークブックと一緒に公開することで、サーバー上にデータが保存され、サーバーの更新スケジュール機能を利用してデータソースを最新の状態に保つことができます。\nB. 誤り ローカルファイルへのライブ接続は、サーバーがそのファイルにアクセスできないため、公開後に切断されてしまい、データの更新もビューの表示もできません。\nC. 誤り これは一つの解決策ですが、データソースを移動する作業が必要です。Tableau Desktopの操作としては、抽出を作成することが最も直接的な公開手順です。\nD. 誤り TWBファイルはデータを含まないため、データ抽出を作成せずに公開すると、サーバーはデータソースを見つけられず、ビューの表示や更新は失敗します。"},{id:16,category:"データ接続・データソース",question:"アナリストが、ライブ接続（Live Connection）を使用してSQLデータベースの売上データに接続しています。データソースの基礎となるテーブルが外部で更新された直後、アナリストはワークブックを閉じて再度開くことなく、現在のビューに最新のデータ変更を即座に反映させたいと考えています。このライブ接続のデータキャッシュをクリアし、最新のデータを強制的に取得するために、アナリストが取るべき適切な操作はどれですか？",options:["A. ワークブックの上部ツールバーにある「データの更新」アイコンをクリックする","B. データ接続を抽出に切り替え、その抽出を右クリックして「更新」を選択する","C. データソースペインで接続を右クリックし、「データインタープリターの再実行」を選択する","D. 行シェルフと列シェルフからすべてのピルを削除し、再度配置し直す"],answer:"A",explanation:"A. 正解 ライブ接続を使用している場合、Tableauはクエリ結果をキャッシュすることがあります。ツールバーにある円形の矢印アイコン（「データの更新」）をクリックすることで、このキャッシュがクリアされ、Tableauはライブデータベースに対して新しいクエリを強制的に実行し、最新のデータをビューに反映させます。\nB. 誤り この操作は抽出データソースに対してのみ機能します。ライブ接続には適用されません。\nC. 誤り データインタープリターは、主にExcelなどの非構造化データのヘッダーやフォーマットを修正するために使用される機能であり、ライブデータベースのクエリキャッシュを更新する機能ではありません。\nD. 誤り この操作はビューの構造をリセットするだけであり、Tableauの内部データキャッシュをクリアしたり、最新のデータをデータベースから強制的に取得したりする効率的な方法ではありません。"},{id:17,category:"データ接続・データソース",question:"Tableauでキューブデータソースを使用する場合、次のうち正しいものはどれですか？",options:["A. 予測と傾向線はサポートされていません。","B. キューブデータソースは、Tableauでのデータブレンディングにおいて、セカンダリデータソースとしてのみ使用できます。","C. データソースフィルターは利用できません。","D. キューブデータソースを操作しているとき、グループを作成することはできません。"],answer:"A",explanation:"A. 正解 キューブデータソース（MSASなど）は、データが事前集計されており、Tableauが予測や傾向線の計算（R二乗値など）に必要な詳細データにアクセスできないため、これらの機能はサポートされていません。\nB. 誤り キューブデータソースは、データブレンディングにおいてプライマリデータソースとして使用する必要があり、セカンダリデータソースとしては使用できません。これはキューブの構造上の制約によるものです。\nC. 正解 Tableauのデータソースページで設定するデータソースフィルターは、キューブデータソースではサポートされていません。フィルタリングは、ワークシートレベルまたはダッシュボードレベルで行う必要があります。\nD. 正解 グループ機能は、ディメンションのメンバーを組み合わせて新しい項目を作成しますが、キューブのディメンションはキューブ側で事前定義されているため、Tableauで動的にグループを作成することはできません。",multiSelect:true,correctAnswers:["A","C","D"],numSelect:3},{id:18,category:"データ接続・データソース",question:"空間ファイルについて正しいものは次のうちどれですか？",options:["A. 空間データを使用して複合軸グラフを作成することはできません。","B. 空間データソースを非空間データソースと結合することはできません。","C. ビューが空間データソースを使用して作成されている場合、そのビューにフィルターを適用することはできません。","D. 上記のいずれでもない。"],answer:"D",explanation:"A. 誤り 空間データ（例：マップレイヤー）は、他のメジャー（例：売上データ）と複合軸グラフを作成して、マップ上に円グラフなどを重ねて表示することが可能です。\nB. 誤り 空間データソース（例：Shapefile）は、共通の項目（例：地域IDや名前）を使用して、非空間データソース（例：Excelファイル）と結合（Join）またはリレーションシップを結ぶことができます。\nC. 誤り 空間データソースを使用して作成されたマップビューにも、他のビジュアライゼーションと同様に、ディメンションやメジャーを使用してフィルターを適用することが可能です。\nD. 正解 A、B、Cで述べられている制限はすべて誤りであり、Tableauではこれらの操作（複合軸、結合、フィルター）が空間データに対しても可能です。"},{id:19,category:"データ準備・項目操作",question:"アナリストは、データペインで項目を操作する際、アイコンを見てその項目のデータ型を素早く識別したいと考えています。例えば、「出荷日」（Shipping Date）のように、日付と時刻の情報を含む項目を表すためにTableauが使用する標準的なアイコンは何ですか？",options:["A. #（ハッシュマーク）","B. ABC（テキスト記号）","C. カレンダーアイコンまたはカレンダーと時計のアイコン","D. 地球儀のアイコン"],answer:"C",explanation:"A. #（ハッシュマーク） このアイコンは、数値（Number）データ型を持つ項目、特にメジャー（例：売上、数量）を示すために使用されます。\nB. ABC（テキスト記号） このアイコンは、文字列（String）データ型を持つ項目（例：製品名、顧客名）を示すために使用されます。\nC. カレンダーアイコンまたはカレンダーと時計のアイコン 正解です。カレンダーのアイコンは日付（Date）データ型を、時計のついたカレンダーアイコンは日付と時刻（Date & Time）データ型を持つ項目を示すために使用されます。\nD. 地球儀のアイコン このアイコンは、Tableauによって地理的役割（Geographic Role）が割り当てられた項目（例：国、州、市）を示すために使用されます。"},{id:20,category:"データ準備・項目操作",question:"アナリストがデータソースを分析のために読み込みましたが、データペインに数百の項目が表示されており、そのうちの多くは分析には使用されない冗長なものです。アナリストは、これらの未使用の項目をデータペインから隠し、ワークブックのデータ構造を簡潔に保ちたいと考えています。この未使用の項目を非表示にし、データペインを整理するために、アナリストが取るべき適切な操作はどれですか？",options:["A. 項目を右クリックし、「フォルダを作成」を選択して、未使用の項目を別のフォルダに移動する","B. 項目を右クリックし、「データ型を変更」を選択して、ディメンションからメジャーに変換する","C. 計算項目エディタで ISNULL() 関数を使用して、項目を無効にする","D. データペインで項目を右クリックし、「非表示」を選択する"],answer:"D",explanation:"A. 誤り この操作はデータペイン内での項目を整理しますが、項目自体は引き続き表示されるため、ワークスペースの簡潔化という目的には部分的にしか貢献しません。\nB. 誤り この操作は項目の役割と機能を変更しますが、その項目のデータペインでの表示/非表示の制御は行いません。\nC. 誤り ISNULL() 関数は、値がNULLであるかどうかを確認するために使用される計算関数であり、データペインから項目を非表示にする機能とは関係ありません。\nD. 正解 データペインで項目を右クリックし「非表示」を選択すると、その項目はデータソースから削除されることなく、データペインのリストから非表示になります。これにより、アナリストは分析に必要な項目だけに集中でき、ワークスペースを効果的に整理できます。"},{id:21,category:"データ準備・項目操作",question:"Tableauで「メジャーネーム」項目をどのように名前変更しますか？",options:["A. 「メジャーネーム」を右クリックし、「名前の変更」を選択する","B. データソースページから項目の名前を変更する","C. メタデータグリッドから項目の名前を変更する","D. 上記のいずれでもない"],answer:"D",explanation:"A. 誤り 「メジャーネーム」はTableauによって自動的に生成される特別な項目です。データペインで右クリックしても、「名前の変更」オプションは利用できません（グレーアウトされています）。\nB. 誤り 「メジャーネーム」は、データソースページのグリッドに元のデータ列として表示されないため、このページで名前を変更することはできません。\nC. 誤り データソースページのメタデータグリッドは、データソースの項目を管理する場所ですが、「メジャーネーム」のようなTableauが生成する項目は、ここでの名前変更の対象に含まれていません。\nD. 正解 「メジャーネーム」はTableauの内部的な項目であり、データペイン上の項目名を直接変更することはできません。ただし、ビジュアライゼーションのヘッダーとして表示された場合に「別名の編集」を行うことは可能です。"},{id:22,category:"データ準備・項目操作",question:"アナリストが、売上データに含まれる「地域名」（例：州や都道府県の名前）を使用して、Tableauのマップビューで視覚化を試みました。しかし、データペインで「地域名」の項目の横に地球儀のアイコンが表示されず、期待したマップが作成されません。Tableauがこの文字列項目を地理的データとして認識し、緯度・経度に基づいて地図上に正確にプロットできるようにするために、アナリストが取るべき最初のステップはどれですか？",options:["A. 項目をディメンションペインからメジャーペインに移動する","B. 項目を列シェルフと行シェルフに配置し、マークタイプを「マップ」に強制的に設定する","C. データペインで項目を右クリックし、「地理的役割」を適切なレベルに割り当てる","D. ワークブックのロケール設定をデータの原産国に合わせて変更する"],answer:"C",explanation:"A. 誤り 項目をメジャーに移動すると、Tableauはその項目を集計可能な数値として扱います。これは地理的な視覚化に必要なディメンションとしての役割を失わせるため、不適切です。\nB. 誤り マークタイプを「マップ」に設定しても、Tableauがその文字列データを「州」や「市」などの地理的要素として解釈するための情報を持たない限り、緯度や経度の座標を生成できません。この操作だけでは問題を解決できません。\nC. 正解 Tableauは、地理的役割（例：国、州/都道府県、市）を割り当てられた文字列項目を認識し、そのデータに対して自動的に緯度と経度の項目を生成します。これにより、項目に地球儀アイコンが表示され、マップビューでのプロットが可能になります。\nD. 誤り ロケール設定は、日付や通貨などの形式に影響を与えますが、文字列データを地理的役割として認識させる機能とは直接関係ありません。地理的データの認識には、「地理的役割」の割り当てが必要です。"},{id:23,category:"データ準備・項目操作",question:"メタデータグリッドを使用して、リモート項目（remote fields）の名前を変更できます。",options:["A. 正","B. 誤"],answer:"B",explanation:"A. 誤り メタデータグリッドでは、Tableauが使用するローカル名（別名）を変更することはできますが、データソース内の元の項目名（リモート項目名）自体を変更することはできません。\nB. 正解 Tableauのデータソースページのメタデータグリッドでは、Tableauワークブック内で使用される項目の名前（ローカル名）を変更することはできますが、元のデータソース（リモートデータベースやファイル）にある項目名そのもの（リモート項目）を書き換えることはできません。"},{id:24,category:"データ準備・項目操作",question:"数値メジャーをディメンションに変換するのはなぜですか？",options:["A. 項目を集計するため","B. ビューにラベルを表示するため","C. この項目をLODで使用するため","D. 項目を非集計にするため"],answer:"D",explanation:"A. 誤り メジャーは、デフォルトでTableauによって合計（SUM）や平均（AVG）などに集計されます。ディメンションに変換する操作は、この集計を解除する方向の操作であり、集計が目的ではありません。\nB. 誤り ラベルの表示は、メジャーでもディメンションでも可能です。数値をディメンションに変換する主な理由ではありません。\nC. 誤り 数値メジャーは、SUM([Sales]) のように集計関数の一部としてLOD計算（FIXEDなど）で問題なく使用できます。ディメンションに変換する必要はありません。\nD. 正解 メジャー（例：[売上]）をディメンションに変換すると、Tableauはその項目の値を集計（例：合計）するのではなく、個別の値（例：売上 $100, $150, $200...）として扱います。これにより、データの非集計（行レベル）での分析が可能になります。"},{id:25,category:"データ準備・項目操作",question:"アナリストがデータソースに接続した際、「数量 (Quantity)」という名前のメジャー項目が、ビューにドラッグされるたびに既定で「個別カウント（COUNTD）」として集計されてしまいます。アナリストは、この項目が常に合計（SUM）として集計されるように、既定の動作を永続的に変更したいと考えています。この項目の既定の集計方法を変更するために、アナリストがデータペインで行うべき適切な操作はどれですか？",options:["A. 計算項目を作成し、その項目に SUM([Quantity]) という計算式を定義する","B. データペインで「数量」項目を右クリックし、「既定のプロパティ」から「集計」を選択して変更する","C. 「数量」項目をメジャーペインからディメンションペインに移動する","D. 列シェルフ上の「数量」ピルを右クリックし、「合計」を選択する（この操作はビューにのみ適用される）"],answer:"B",explanation:"A. 誤り この操作は、合計が既定となる新しい項目を作成しますが、元のデータソース項目の既定の集計設定自体は変更しません。\nB. 正解 データペインで項目の「既定のプロパティ」メニュー内の「集計」オプションを変更すると、その項目がワークブックで使用される際に適用される最初の集計方法が恒久的に設定されます。\nC. 誤り 項目をディメンションに移動すると、Tableauはその項目を集計可能な数値ではなく、カテゴリとして扱い、ビューの粒度を細分化するために使用されるようになります。目的のデフォルト集計の変更にはつながりません。\nD. 誤り この操作は、現在のビュー内のピルの集計方法を一時的に変更するだけであり、元の項目の既定のプロパティを永続的に変更するものではありません。"},{id:26,category:"データ準備・項目操作",question:"アナリストが、売上高（Sales）をより簡潔に表示するために、数値の単位を千単位（例：$150,000を$150K）で表示し、小数点以下を非表示にしたいと考えています。このカスタム書式設定を、すべてのビューでこの項目が使用される際の既定の書式として適用する必要があります。この要件を満たすために、アナリストがデータペインで行うべき最も適切な操作はどれですか？",options:["A. ワークシートの軸を右クリックし、「書式設定」からカスタム書式を設定する","B. 新しい計算項目を作成し、売上を1000で割って末尾に「K」を付与する式を定義する","C. データペインで項目を右クリックし、「既定のプロパティ」から「数値書式」を選択して変更する","D. マークカードの「ツールヒント」を編集し、カスタム書式コードを直接入力する"],answer:"C",explanation:"A. 誤り この方法では、その軸またはペインにのみ書式設定が適用され、ワークブック全体で項目が使用される際の既定の書式は変更されません。\nB. 誤り この方法で数値書式を文字列に変換してしまうと、その結果は数値として扱えなくなり、今後の計算や分析に支障をきたすため、推奨されません。\nC. 正解 この操作は、その項目がビューの軸、ラベル、ツールヒントなどで使用される際の既定の書式を永続的に設定します。これにより、ワークブック全体で一貫した書式が適用されます。\nD. 誤り この方法は、ツールヒントに表示されるテキストの書式のみを変更するものであり、軸やラベルなど、他の場所で使用される際の既定の書式は変更されません。"},{id:27,category:"データ準備・項目操作",question:"アナリストがデータソースに接続した際、「顧客ID」（Customer ID）の項目が、Tableauによって誤ってメジャー（数値であり緑色のピル）として解釈されてしまいました。この項目は集計されるべきではなく、顧客を個別に識別するためのディメンション（青色のピル）として使用される必要があります。データペインで、「顧客ID」の項目をメジャーからディメンションに変換し、その役割を永続的に変更するために、アナリストが取るべき最も簡単な操作はどれですか？",options:["A. データペインで「顧客ID」を右クリックし、「ディメンションに変換」を選択する","B. 「顧客ID」項目のデータ型を「文字列」に変更する","C. 「顧客ID」項目を列シェルフにドラッグし、ビューで集計を「属性（ATTR）」に変更する","D. データペインで「顧客ID」項目を右クリックし、「既定のプロパティ」から「集計」を「最小値」に変更する"],answer:"A",explanation:"A. 正解 この操作は、項目の役割（メジャーからディメンション）をデータペインで直接変更します。これにより、項目はディメンションペインに移動し、既定で青色のピルとして表示され、ビューの粒度を細分化するために使用されるようになります。\nB. 誤り データ型（例：数値、文字列）を変更しても、その項目の役割（メジャーかディメンションか）は自動的に変わるとは限りません。この操作は不正確です。\nC. 誤り この変更は、現在のワークシートでのみ適用される一時的な集計の変更であり、データペインでの項目の既定の役割を永続的に変更するものではありません。\nD. 誤り 既定の集計を変更しても、項目はメジャー（数値であり緑色のピル）のままです。ディメンション（カテゴリ）として使用されるという要件を満たしません。"},{id:28,category:"データ準備・項目操作",question:"アナリストが、地域、州、市という3つの地理的ディメンションを持っており、ユーザーがビューの軸ヘッダーをクリックするだけで、これらのレベルを順番に掘り下げて（ドリルダウン）分析できるようにしたいと考えています。このクイックドリルダウン機能を提供するために、アナリストがデータペインで行うべき最も適切なデータ準備作業はどれですか？",options:["A. 各ディメンションに対して個別のフィルターコントロールを作成する","B. 3つのディメンションすべてを1つの計算項目に CASE 関数を使用して含める","C. 3つのディメンション間にリレーションシップを定義し、データモデルに追加する","D. 関連するディメンションをグループ化して「階層」を作成し、ビューで使用する"],answer:"D",explanation:"A. 誤り フィルターコントロールはデータを絞り込むためのものであり、ビューの軸ヘッダーのクリックによる階層的なドリルダウン機能は提供しません。\nB. 誤り この手法は、パラメータと組み合わせて表示するディメンションを切り替えるために使用されますが、軸ヘッダーのクリックによって自動的に次のレベルへ展開するドリルダウン機能は提供しません。\nC. 誤り リレーションシップは、異なるテーブル間でデータを結合するためのものであり、単一のデータソース内または複数のデータソース間でディメンションの視覚的なドリルダウン階層を作成する機能ではありません。\nD. 正解 階層（Hierarchy）を作成することで、関連するディメンションを順番に格納し、ビューに配置した際にディメンションピルと軸ヘッダーにプラス（＋）アイコンが表示され、ユーザーはクリック操作だけで次のレベルに簡単にドリルダウンできるようになります。"},{id:29,category:"データ準備・項目操作",question:"Tableauで「メジャーネーム」項目の名前を変更するにはどうすればよいですか？",options:["A. [メジャーネーム] を右クリックし、[名前の変更] を選択します","B. データソースページから項目の名前を変更します","C. メタデータグリッドから項目の名前を変更します","D. 上記のいずれでもない"],answer:"D",explanation:"A. 誤り [メジャーネーム] はTableauが自動的に生成する特別な項目です。データペインでこの項目を右クリックしても、[名前の変更] オプションは表示されず、この方法で名前を変更することはできません。\nB. 誤り データソースページで変更できるのは、元のデータソースに含まれる項目です。Tableauが生成した [メジャーネーム] 項目の名前は変更できません。\nC. 誤り データソースページのメタデータグリッドでも、元のデータソースの項目は変更できますが、Tableauが生成した [メジャーネーム] 項目の名前を変更することはできません。\nD. 正解 [メジャーネーム] はTableauの予約された内部項目であり、データペインに表示される項目自体の名前を変更することはできません。ただし、ビューでヘッダーとして使用される場合に、その表示名（エイリアス）を編集することは可能です。"},{id:30,category:"データ準備・項目操作",question:"データソースに含まれる「注文番号」項目は、「部門コード」（最初の2文字）と「シリアル番号」（残りの文字）がハイフンなしで連結された形式（例: \"SL1001\", \"HR2050\"）になっています。分析のために、各注文がどの部門からのものかを示す「部門コード」のみを抽出する新しい計算フィールドを作成したいと考えています。この目的を達成するために、計算フィールドで使用するのに最も適切な文字列関数を用いた式はどれですか？",options:["A. LEFT([注文番号], 2)","B. RIGHT([注文番号], 2)","C. MID([注文番号], 2, 2)","D. CONTAINS([注文番号], \"SL\")"],answer:"A",explanation:"A. 正解 LEFT関数は、第一引数で指定された文字列の左端（先頭）から、第二引数で指定された文字数分の部分文字列を返します。注文番号の最初の2文字が部門コードであるため、この式によって正しく部門コードを抽出できます。\nB. 誤り RIGHT関数は、指定された文字列の右端（末尾）から、指定された文字数分の部分文字列を返します。このケースでは、注文番号の末尾2文字を抽出することになり、先頭の部門コードを抽出する目的には合致しません。\nC. 誤り MID関数は、指定された文字列の、指定された開始位置（第二引数）から、指定された文字数分（第三引数）の部分文字列を返します。この式では、「注文番号」の2文字目から2文字分を抽出するため、例えば \"SL1001\" に対しては \"L1\" が返され、目的の部門コード \"SL\" とは異なります。\nD. 誤り CONTAINS関数は、第一引数の文字列に、第二引数の部分文字列が含まれているかどうかを判定し、True（真）またはFalse（偽）のブール値を返します。例えば、注文番号が \"SL1001\" であればTrueを返しますが、部門コードの文字列そのものを抽出する関数ではありません。"},{id:31,category:"データ準備・項目操作",question:"Tableau Desktopにおいて、項目（フィールド）が持つ値の性質に基づき、その項目が連続（Continuous）であるか、不連続（Discrete）であるかを区別する際の、最も重要な視覚的な指標は何ですか？",options:["A. データの型（例：数値、文字列、日付）","B. 項目が「ディメンション」（Dimension）ペインにあるか、「メジャー」（Measure）ペインにあるか","C. 項目の色のエンコーディング","D. ビュー内の項目に適用される集計"],answer:"C",explanation:"A. 誤り データの型は項目の分類を決定しますが、連続か不連続かの視覚的な識別子ではありません。例えば、日付項目はディメンションとして使用される場合、連続にも不連続にもなり得ます。\nB. 誤り ディメンションはしばしば不連続（青いピル）として扱われ、メジャーはしばしば連続（緑のピル）として扱われますが、これはルールではなくデフォルトの動作です。項目をディメンションからメジャーに、またはその逆に移動しても、連続か不連続かの性質を直接変更するわけではありません。\nC. 正解 Tableauにおいて、連続項目は緑色のピルとして表示され、不連続項目は青色のピルとして表示されます。この色の違いが、その項目が連続（グラデーション/軸）として扱われるか、不連続（ヘッダー/カテゴリ）として扱われるかの最も重要な視覚的な指標となります。\nD. 誤り 集計（例：SUM、AVG）は主にメジャーに適用されます。集計が適用されていても、その項目が連続か不連続かは、ピルの色によって示されます。"},{id:32,category:"データ準備・項目操作",question:"Tableau Desktopにおいて、ビューの詳細レベルを決定し、データ集計の粒度を定義する項目（フィールド）のタイプは何ですか？",options:["A. パラメータ（Parameter）","B. メジャー（Measure）","C. ディメンション（Dimension）","D. セット（Set）"],answer:"C",explanation:"A. パラメータ（Parameter） パラメータは、ユーザー入力を受け付け、計算項目やフィルタの値などを動的に変更するために使用される独立した項目です。ビューの集計の粒度を定義する項目のタイプではありません。\nB. メジャー（Measure） メジャーは、定量的な数値項目であり、通常、ディメンションによって定義された詳細レベルで集計されます（例：SUM、AVG）。メジャー自体がビューの詳細レベルを定義するのではなく、ディメンションによって分割された後の値を集計します。\nC. ディメンション（Dimension） 正解です。ディメンション（Dimension）は、定性的、カテゴリ的、または記述的な項目（例：地域、製品名、日付）であり、ビューの「行」または「列」シェルフに配置されると、データを行と列に分割し、ビューの詳細レベル（集計の粒度）を決定します。\nD. セット（Set） セットは、特定の条件に基づいてディメンションのメンバーのサブセット（「イン」または「アウト」）を作成するカスタム項目です。これは、ビューの詳細レベル全体を決定する項目のタイプではありません。"},{id:33,category:"データ準備・項目操作",question:"Tableauは連続項目をカテゴリカルパレットに自動的に関連付けます。",options:["A. 正","B. 誤"],answer:"B",explanation:"A. 誤り Tableauは、連続項目（緑色のピル）を、カテゴリカルパレット（区別された個別の色）ではなく、定量的パレット（色のグラデーション）に自動的に関連付けます。カテゴリカルパレットは、不連続項目（青色のピル）に関連付けられます。\nB. 正解 Tableauは、連続項目（緑色のピル）を、色の連続的な変化（グラデーション）を示す定量的（シーケンシャルまたは発散）パレットに自動的に関連付けます。一方、カテゴリカルパレット（個別の異なる色）は、不連続項目（青色のピル）に自動的に関連付けられます。"},{id:34,category:"計算・LOD表現",question:"アナリストが、各顧客の総売上高を計算し、さらにその「顧客ごとの総売上高」の平均を地域ごとに比較したいと考えています。しかし、現在のビューには地域やセグメントなどのディメンションが配置されており、通常の集計関数ではビューの粒度に合わせて計算されてしまい、顧客単位の正確な集計値を求められません。ビューの粒度に関係なく、指定した「顧客」のレベルで集計値を固定して計算するレベル詳細表現（LOD Expression）はどれですか？",options:["A. INCLUDE","B. EXCLUDE","C. WINDOW_SUM","D. FIXED"],answer:"D",explanation:"A. INCLUDE INCLUDE LOD表現は、ビューに既に配置されているディメンションに、指定されたディメンションを追加して集計を行います。ビューの粒度を完全に無視する機能はありません。\nB. EXCLUDE EXCLUDE LOD表現は、ビューに既に配置されているディメンションの中から、指定されたディメンションを除外して集計を行います。これもビューの粒度との相対的な関係で機能し、完全に独立したレベルでの集計には適していません。\nC. WINDOW_SUM WINDOW_SUMはLOD表現ではなく、テーブル計算関数です。これはビューに表示されている行に依存して動作し、パーティション（区切り）とアドレッシング（方向）に基づいて計算されます。基礎となるデータソースの粒度を固定するLODの機能とは異なります。\nD. FIXED 正解です。FIXED LOD表現は、ワークブックのビューに配置されているディメンションを完全に無視し、計算式で明示的に指定されたディメンション（この場合は顧客）のレベルで集計値を固定します。これにより、ビューの構成に関係なく、顧客ごとの総売上高などの特定の粒度でのメジャーを正確に計算できます。"},{id:35,category:"計算・LOD表現",question:"次のうち、有効な計算式はどれですか？",options:["A. MAX(SUM(Profit), (Sales))","B. SUM([Profit]) * SUM([Quantity])","C. SUM([Profit]) * 1000","D. SUM([Profit]) * [Quantity]"],answer:"B",explanation:"A. 誤り SUM(Profit) という集計済みの値と、(Sales) という非集計（行レベル）の値を MAX 関数内で混在させているため、無効な計算式です。Tableauでは集計レベルと非集計レベルを混在できません。\nB. 正解 SUM([Profit]) と SUM([Quantity]) はどちらも集計値であり、同じ集計レベルの値同士を乗算しているため、有効な計算式です。\nC. 正解 SUM([Profit]) という集計値に、定数（1000）を乗算しています。集計値と定数の計算は有効です。\nD. 誤り SUM([Profit]) という集計値と、[Quantity] という非集計（行レベル）の値を乗算しようとしているため、無効な計算式です。",multiSelect:true,correctAnswers:["B","C"],numSelect:2},{id:36,category:"計算・LOD表現",question:"LOD計算では、複数のデータソース（ブレンドされたデータソース）の項目を使用できますか？",options:["A. 正","B. 誤"],answer:"B",explanation:"A. 誤り LOD計算（FIXED、INCLUDE、EXCLUDE）は、単一のデータソース内で完結する必要があります。セカンダリデータソース（ブレンドされたデータソース）の項目をLOD計算式内で直接参照することはできません。\nB. 正解 LOD計算は、プライマリデータソース内のデータに対してのみ機能します。複数のデータソースの項目をLOD計算で使用する必要がある場合、通常はデータをブレンドするのではなく、データソースレベルで（可能であれば）結合（Join）する必要があります。"},{id:37,category:"計算・LOD表現",question:"Tableau Desktopにおいて、計算項目（Calculated Field）を作成する際に、ビューに表示されている詳細レベルとは独立した集計値を計算するために使用される関数は何ですか？",options:["A. 表計算（Table Calculation）","B. LOD表現（Level of Detail Expression）","C. 集計関数（Aggregate Function）","D. パラメータ関数（Parameter Function）"],answer:"B",explanation:"A. 表計算（Table Calculation） 表計算は、ビューに表示されている詳細レベル（つまり、ディメンションによって決定される集計結果）に基づいて計算を実行します。これは、ビューの詳細レベルとは独立した集計値を計算する機能ではありません。\nB. LOD表現（Level of Detail Expression） 正解です。LOD表現（Level of Detail Expression）は、FIXED、INCLUDE、EXCLUDEなどのキーワードを使用して、ビューの詳細レベルとは独立した、指定されたディメンションのレベルで集計値を計算するために使用されます。これにより、ビューの構成に関係なく、特定の項目の集計値を一貫して得ることができます。\nC. 集計関数（Aggregate Function） 集計関数（SUM、AVGなど）は、ビューの詳細レベルで、項目の値を集計するために使用されます。これは、ビューの詳細レベルとは独立したレベルで計算を行う機能ではありません。\nD. パラメータ関数（Parameter Function） パラメータはユーザーの入力を格納するための項目であり、特定の計算を実行する関数ではありません。計算項目内でパラメータの値を使用することはできますが、それ自体が集計値を計算する機能ではありません。"},{id:38,category:"計算・LOD表現",question:"__________ 関数は、数値をそれ以下の最も近い整数に丸めます。",options:["A. FLOOR","B. ROUND","C. CEILING","D. BUFFER"],answer:"A",explanation:"A. FLOOR 正解です。FLOOR関数は「床」を意味し、指定された数値以下の最大の整数（つまり、小数点以下を切り捨てた値）を返します。これは問題文の「それ以下の最も近い整数に丸める」という定義と一致します。\nB. ROUND ROUND関数は、数値を最も近い整数に（四捨五入）丸めます。例えば、ROUND(1.8) は 2 となり、「それ以下」の整数にはならないため、要件を満たしません。\nC. CEILING CEILING関数は「天井」を意味し、指定された数値以上の最小の整数（つまり、小数点以下を切り上げた値）を返します。これは要件とは逆の動作です。\nD. BUFFER BUFFERは、Tableauの標準的な数値丸め関数ではありません。（地理空間分析でBUFFER関数はありますが、数値の丸め処理とは異なります。）"},{id:39,category:"計算・LOD表現",question:"アナリストが、売上データに新しい計算項目を追加して、各取引の「コミッション額」を計算したいと考えています。コミッション額は、[売上] 項目の10%（0.10）として定義されており、この計算は、他のディメンションや集計に関係なく、データセットの各行ごとに実行される必要があります。この行レベルの計算を実行するために、アナリストが計算項目エディタで作成すべき適切な計算式はどれですか？",options:["A. SUM([売上]) * 0.10","B. TOTAL([売上]) * 0.10","C. {FIXED : SUM([売上])} * 0.10","D. [売上] * 0.10"],answer:"D",explanation:"A. 誤り 集計関数（SUM）が使用されているため、この計算はビューに配置されたディメンションの粒度に合わせて集計された売上合計に対して実行されます。行レベルのコミッション額を計算する目的には適していません。\nB. 誤り TOTALは表計算関数であり、ビューの集計が完了した後に実行されます。これも行レベルではなく、ビューのコンテキストに依存した集計計算です。\nC. 誤り これはレベル詳細表現（LOD）であり、データセット全体など、指定されたレベルで集計された売上合計に対して計算されます。これも行レベルの計算ではありません。\nD. 正解 計算式に集計関数が使用されていない場合、Tableauはデータソースの各行に対して個別にこの計算を実行します。これは行レベルの計算であり、その結果がビューにドラッグされたときに初めて集計（例：SUM）が適用されます。"},{id:40,category:"計算・LOD表現",question:"アナリストが、売上データで「州（State）」別の売上合計を表示するビューを作成しています。アナリストは、このビューの粒度（州レベル）を維持したまま、さらに高い階層である「地域（Region）」のレベルで計算された平均売上高を比較のためにビューに追加したいと考えています。ビューに配置されている「州」ディメンションを維持しつつ、指定した「地域」ディメンションを含めて計算を行うレベル詳細表現（LOD Expression）はどれですか？",options:["A. FIXED","B. INCLUDE","C. EXCLUDE","D. WINDOW_AVG"],answer:"B",explanation:"A. FIXED FIXED LOD表現は、ビューに配置されているディメンションを無視し、指定されたディメンションレベルでのみ計算を実行します。この場合、ビューの粒度（州）を維持するという要件を満たせません。\nB. INCLUDE 正解です。INCLUDE LOD表現は、ビューの既存の粒度（州）を維持したまま、指定されたディメンション（地域）を一時的に計算に追加します。これにより、地域レベルでの平均売上を計算し、その結果を州ごとの行に繰り返して表示することが可能になり、州レベルのビューで地域レベルの平均を比較できます。\nC. EXCLUDE EXCLUDE LOD表現は、ビューの粒度から指定されたディメンションを除外して集計を実行します。このケースでは、より高い階層のディメンションを含めるという目的には適していません。\nD. WINDOW_AVG WINDOW_AVGはレベル詳細表現（LOD）ではなく、表計算関数です。これは、ビューの集計結果に対して動作するため、データソースの特定の粒度で計算を固定するというLODの目的には適していません。"},{id:41,category:"計算・LOD表現",question:"グループは計算項目で使用できます。",options:["A. 正","B. 誤"],answer:"A",explanation:"A. 正解 Tableauでグループを作成すると、そのグループはデータペインに新しいディメンション項目として作成されます。この新しい項目は、他のディメンション項目と同様に、IF 文や CASE 文などの計算項目内で参照して使用することができます。\nB. 誤り グループは計算項目内で使用することが可能です。グループ化によって生成された項目は、計算ロジックの一部として利用できるディメンションとして機能します。"},{id:42,category:"計算・LOD表現",question:"アナリストが、時間経過に伴う製品カテゴリごとの売上高を示す折れ線グラフを作成しました。この折れ線グラフに、各月が直前の月と比較してどれだけ売上が増減したかを示す、「前月比の差分」を計算した値を追加したいと考えています。この「前月比の差分」を計算するために、アナリストが使用すべき表計算（Table Calculation）のタイプと、その計算方向（Compute Using）設定の最も適切な組み合わせはどれですか？",options:["A. 計算タイプ: 差分 (Difference)、計算方向: テーブル（横）","B. 計算タイプ: 累計 (Running Total)、計算方向: ペイン（下）","C. 計算タイプ: 割合 (Percent of Total)、計算方向: テーブル（下）","D. 計算タイプ: 順位 (Rank)、計算方向: ペイン（横）"],answer:"A",explanation:"A. 正解 「差分」計算タイプは、現在の値と以前の値との差を求めます。また、「テーブル（横）」の計算方向は、ビューの行をまたいで横方向（通常は時系列の方向）に計算を進め、直前の月との差分を正確に計算する標準的な方法です。\nB. 誤り 累計計算は、月ごとの値を積み上げていく累積合計を計算するものであり、前月比の差分を計算する目的には適していません。\nC. 誤り 割合計算は、現在の値が全体に対して占める割合を計算するものであり、前月との増減を計算する目的には適していません。\nD. 誤り 順位計算は、値の大きさに従って順位を割り当てるものであり、直前の月との増減額を計算するものではありません。"},{id:43,category:"計算・LOD表現",question:"Tableau Desktopにおいて、表計算（Table Calculation）を編集する際、計算の実行方向（例えば、表を横切って、または特定のディメンションに沿って）を制御するために使用される設定は何ですか？",options:["A. 集計（Aggregation）","B. 詳細レベル（Level of Detail）","C. 実行方向（Addressing and Partitioning）","D. フィルタアクション（Filter Action）"],answer:"C",explanation:"A. 集計（Aggregation） 集計は、項目に適用される計算（SUM、AVGなど）の種類を決定します。これは、表計算がビューのディメンションに沿ってどのように計算されるかを決定するものではありません。\nB. 詳細レベル（Level of Detail） 詳細レベル（LOD）は、ビューのディメンションとは独立したレベルで集計値を計算するためにLOD表現（Level of Detail Expression）で使用されます。表計算がビュー内のデータに適用される方向を制御する設定ではありません。\nC. 実行方向（Addressing and Partitioning） 正解です。表計算の編集ダイアログでは、「特定のディメンション」または「表（横）」「表（下）」などのオプションを選択することで、計算の実行方向を制御します。この設定は、計算を適用する詳細のグループ（Partitioning）と、そのグループ内で計算が実行される順序/方向（Addressing）を定義します。\nD. フィルタアクション（Filter Action） フィルタアクションは、ダッシュボードまたはストーリーで、あるワークシートでの選択が他のワークシートのデータをどのようにフィルタリングするかを制御します。これは表計算の計算方向を制御する機能ではありません。"},{id:44,category:"計算・LOD表現",question:"表計算において、パーティション項目は計算の方向を定義しますか？",options:["A. 正","B. 誤"],answer:"B",explanation:"A. 誤り パーティション項目は計算の方向を定義しません。パーティション項目は、計算が実行される「スコープ」または「バケット」（区画）を定義します。計算の方向（例：表（下へ）、ペイン（横へ））を定義するのはアドレッシング項目（「次を使用して計算」で設定される項目）です。\nB. 正解 パーティション項目は、ビューをセグメント（パーティション）に分割し、表計算はパーティションごとに再開されます。計算の方向を定義するのは、パーティション項目ではなく、アドレッシング項目（「次を使用して計算」で指定される項目）です。"},{id:45,category:"計算・LOD表現",question:"結合軸グラフにおいて、単一の軸上に複数のメジャーを配置するために使用する項目はどれですか？",options:["A. メジャーネーム","B. メジャーバリュー","C. レコード数","D. 上記のいずれでもない"],answer:"A",explanation:"A. メジャーネーム 正解です。結合軸グラフでは、[メジャーバリュー] 項目が単一の（通常は連続的な）軸を形成し、そこに含まれるすべてのメジャーの値を保持します。しかし、[メジャーネーム] 項目を（例えば [色] や [列] シェルフに）使用することで、[メジャーバリュー] 軸にプロットされている個々のメジャーを区別し、複数のメジャーを単一の軸上に並べて表示することが可能になります。\nB. メジャーバリュー [メジャーバリュー] 項目は、結合軸グラフで使用される単一の軸そのものを表す特別な項目です。これ自体が「複数のメジャーを配置する」のではなく、[メジャーネーム] と組み合わせて使用されることで、複数のメジャーの値の「入れ物」として機能します。\nC. レコード数 [レコード数] は、データソース内の行数をカウントする自動生成された項目です。これは単一のメジャーであり、複数のメジャーを単一の軸にプロットする機能とは直接関係ありません。\nD. 誤り 正解がAであるため、これは誤りです。"},{id:46,category:"ビジュアライゼーション作成",question:"どのグラフタイプを作成する際、分析メニューから「マークの積み重ね」をオフにしますか？",options:["A. 箱ひげ図","B. 棒グラフ（インバー）","C. ブレットグラフ","D. 複合軸グラフ"],answer:"B",explanation:"A. 箱ひげ図 箱ひげ図はデータの分布（最小値、第1四分位点、中央値など）を示すために使用されます。このグラフを作成する際に、「マークの積み重ね」をオフにする操作は通常必要ありません。\nB. 棒グラフ（インバー） 正解です。棒グラフ（インバー）（Bar in bar chart）は、2つのメジャー（例：今年の売上と去年の売上）を比較するために、一方の棒をもう一方の棒の中に重ねて表示します。棒が積み重なるのではなく、正しく重ねて表示されるように、「分析」メニューから「マークの積み重ね」を選択し、「オフ」に設定する必要があります。\nC. ブレットグラフ ブレットグラフは、目標値に対する実績値の進捗などを視覚的に示すグラフです。このグラフの作成では主に参照線や分布帯を利用し、「マークの積み重ね」をオフにする操作は必須ではありません。\nD. 複合軸グラフ 複合軸グラフは、同じ軸を使用して複数のメジャー（通常は棒グラフと線グラフなど異なるマークタイプ）を表示します。このグラフタイプを作成する上で、「マークの積み重ね」をオフにすることは主要なステップではありません。"},{id:47,category:"ビジュアライゼーション作成",question:"アナリストが、売上（Sales）の合計を列シェルフに配置しました。Tableauのピルには色と形状の特性があり、このピルが緑色（連続）である場合にTableauが作成する軸のタイプと、その軸の特性として最も適切なものはどれですか？",options:["A. 連続軸：ピルの値に基づいて、軸を単一の線のスケールとして表示する","B. 不連続軸：各値を個別のヘッダーとして表示し、カテゴリーとして扱う","C. 棒グラフ：ピルが緑色である場合、自動的に棒グラフとして視覚化される","D. メジャー名：ピルの名前が自動的に軸ラベルとして表示され、軸の編集はできない"],answer:"A",explanation:"A. 正解 メジャーピルが緑色である場合（連続）、Tableauはその値を連続的な量として扱い、定量的な軸（スケール）を作成します。マークは軸上の値の大きさに応じて正確に配置されます。\nB. 誤り これは、ピルが青色である場合（不連続）の特性です。不連続な値はカテゴリラベルとして扱われ、軸ではなくヘッダーとして表示されます。\nC. 誤り マークタイプは軸の特性とは別の設定であり、メジャーが連続軸を作成するからといって、必ずしも棒グラフになるわけではありません（折れ線グラフや散布図にもなり得ます）。\nD. 誤り 軸ラベルは自動的に設定されますが、連続軸は書式設定やスケール調整、タイトルの変更など、完全に編集可能です。"},{id:48,category:"ビジュアライゼーション作成",question:"Tableau Desktopでメジャー（Measure）を「行」または「列」シェルフに配置した際、自動的に作成されるグラフは次のうちどれですか？",options:["A. 散布図","B. ヒストグラム","C. 棒グラフ","D. 線グラフ"],answer:"D",explanation:"A. 散布図 散布図を作成するには、通常、「行」と「列」シェルフの両方にメジャーを配置し、さらにディテールにディメンション（Dimension）を配置する必要があります。メジャーを単独で配置しただけでは自動的に作成されません。\nB. ヒストグラム ヒストグラムは、連続する数値データを範囲（ビン）に分割し、各範囲に含まれる値の数を棒で表示するグラフです。これを作成するには、メジャーからビンを作成し、それを行シェルフに、そのメジャーのカウントを行シェルフに配置するなど、追加の操作が必要です。\nC. 棒グラフ 棒グラフは、通常、ディメンション（カテゴリ）を「行」または「列」シェルフに、メジャーをもう一方のシェルフに配置することで作成されます。単独でメジャーを配置しただけでは、棒グラフは自動作成されません。\nD. 線グラフ 正解です。Tableau Desktopでは、「行」または「列」シェルフにメジャー（通常は集計されたもの）を配置し、もう一方のシェルフに時間ベースのディメンション（例えば日付）がない場合、メジャーを単独で配置した際には、デフォルトのマークタイプは自動的に線グラフ（Line Chart）になります。これは、メジャーの連続的な性質を最も自然に表現するためです。"},{id:49,category:"ビジュアライゼーション作成",question:"Tableau Desktopにおいて、ビューの行と列の項目（フィールド）を入れ替える最も簡単な方法は次のうちどれですか？",options:["A. データソースペインで項目を新しい位置にドラッグする","B. 「分析」メニューから「スワップ項目」オプションを選択する","C. ツールバーの「スワップ」（入れ替え）ボタンをクリックする","D. 「行」シェルフと「列」シェルフの項目を手動でドラッグし直す"],answer:"C",explanation:"A. 誤り データソースペインは、データソースの構造を定義する場所であり、ビューの項目の配置を直接制御する場所ではありません。\nB. 誤り Tableauには「スワップ項目」という名前の専用メニューオプションはありません。\nC. 正解 ツールバーには「行と列を入れ替える」（Swap Rows and Columns）という専用のボタン（通常はR ↔ Cのようなアイコン）があります。このボタンをクリックするだけで、「行」シェルフと「列」シェルフに配置されているすべての項目を一瞬で入れ替えることができます。\nD. 誤り この方法でも項目を入れ替えることは可能ですが、最も簡単で迅速な方法ではありません。特に項目の数が多い場合や、複数の項目が配置されている場合に時間がかかります。"},{id:50,category:"ビジュアライゼーション作成",question:"アナリストが、時間経過に伴う製品カテゴリごとの売上（Sales）を棒グラフで、同時にその利益率（Profit Ratio）を折れ線グラフで、一つのビューに重ねて表示し比較したいと考えています。これら二つのメジャーは単位とスケールが大きく異なるため、それぞれ独立した軸で表示する必要があります。この視覚化要件を満たすために、アナリストが二つ目のメジャー（利益率）のピルに対して行うべき最も適切な操作はどれですか？",options:["A. 利益率のメジャーを「詳細」マークカードに移動する","B. 利益率のメジャーを右クリックし、「ブレンドされた軸」を選択する","C. 利益率のメジャーを右クリックし、「二重軸」を選択する","D. 利益率のマークタイプを「エリア」に変更する"],answer:"C",explanation:"A. 誤り 「詳細」マークカードに項目を追加しても、それはマークのツールヒントや粒度に情報を提供するために使用されるだけで、ビュー上に独立した軸を持つ視覚化としてプロットされることはありません。\nB. 誤り ブレンドされた軸（単一軸）は、複数のメジャーを同じスケール上で重ねて表示します。売上高と利益率のように単位やスケールが大きく異なるメジャーを比較する場合、片方のデータ（通常は利益率）が軸の下部に潰れて表示されてしまい、分析に適していません。\nC. 正解 二重軸を選択すると、Tableauは2つの独立した軸（ビューの左右）を作成し、それぞれ異なるスケールでメジャーをプロットできます。これにより、棒グラフと折れ線グラフを重ねて表示し、異なるスケールで正確に比較することが可能になります。\nD. 誤り マークタイプを「エリア」に変更するのは視覚的な表現方法の変更であり、二重軸を作成して異なるスケールでメジャーを比較するという要件を満たす操作ではありません。"},{id:51,category:"ビジュアライゼーション作成",question:"Tableau Desktopにおいて、ビュー内の2つのメジャー（Measure）を比較するために、同じ軸上に異なるスケール（目盛り）を持つ2つのマークセットを重ねて表示できる機能は何ですか？",options:["A. 参照線","B. 複合軸","C. データブレンド","D. 二重軸"],answer:"D",explanation:"A. 参照線 参照線は、軸上に固定または計算された値を描画し、視覚的な比較基準を提供しますが、2つの異なるメジャーを異なるスケールで重ねて表示する機能ではありません。\nB. 複合軸 複合軸（Blended Axis）は、複数のメジャーを同じスケールの単一の軸上に積み重ねて表示します。これは、異なるスケールを持つ2つのメジャーを比較するのには適していません。\nC. データブレンド データブレンドは、異なるデータソースからのデータを共通の項目をキーとしてビューレベルで結合する機能です。これは、単一のデータソース内の2つのメジャーの比較軸の設定とは関係ありません。\nD. 二重軸 正解です。二重軸（Dual Axis）は、2つの異なるメジャーを同じビューに配置し、それぞれのメジャーに対して独立したスケール（軸）をビューの左右に表示することで、2つのメジャーを重ねて比較できるようにする機能です。これにより、数値の範囲が大きく異なる2つのメジャーを効果的に視覚化できます。"},{id:52,category:"ビジュアライゼーション作成",question:"アナリストは、顧客ごとの総売上高（Total Sales）と総利益（Total Profit）の間に相関関係があるかどうかを調査したいと考えています。各顧客を個別のデータポイントとしてプロットし、相関分析に適した散布図を作成する必要があります。この散布図を作成するために、アナリストが最低限、データペインからビューに配置すべき項目のタイプと数はどれですか？",options:["A. 少なくとも1つのディメンションと、行シェルフと列シェルフに配置された合計3つのメジャー","B. 少なくとも2つのメジャーと、マークを個別に定義するための1つのディメンション","C. 行と列シェルフに配置された2つのディメンションと、マークカードの「詳細」シェルフに配置された1つのメジャー","D. 1つのメジャーと、色シェルフに配置された2つの不連続なディメンション"],answer:"B",explanation:"A. 誤り 散布図のX軸とY軸には、それぞれ1つずつ、合計2つのメジャーしか必要ありません。3つのメジャーを配置しても、相関分析の目的を満たしません。\nB. 正解 散布図は、列シェルフと行シェルフにそれぞれ1つのメジャーを配置することで、X軸とY軸の連続的な尺度を定義します。そして、ディメンション（例：顧客名）を「詳細」マークカードに配置することで、メジャーの集計を解除し、各ディメンションメンバー（顧客）を個別のデータポイント（マーク）としてプロットできます。\nC. 誤り 行と列に2つのディメンションを配置した場合、これは通常、テーブル、ハイライトテーブル、または階層型の棒グラフを作成します。X軸とY軸の連続的な相関軸を作成しません。\nD. 誤り 1つのメジャーだけでは、X軸とY軸の2軸を持つ散布図の構造を作成できません。これは、色分けされた単一の軸を持つグラフを作成することになります。"},{id:53,category:"ビジュアライゼーション作成",question:"アナリストが、すべての取引の総売上高を示す単一の棒グラフを作成しました。アナリストは、このグラフの集計された合計値ではなく、各個別の取引（データ行）の値をそのまま視覚化し、棒グラフの代わりに複数の小さなマークとして表示したいと考えています。この集計を解除し、各データ行を個別のマークとして表示するために、アナリストがワークシートに対して行うべき操作はどれですか？",options:["A. 軸を右クリックし、メジャーの集計を「属性（ATTR）」に変更する","B. 行シェルフの売上ピルを右クリックし、「連続」に変更する","C. ツールバーの「分析」メニューから「測定の集計」のチェックを外す","D. 列シェルフにディメンションを最低1つ追加する"],answer:"C",explanation:"A. 誤り 属性（ATTR）は集計の一種であり、データが集計されない状態（非集計）にはなりません。複数の値が存在する場合はアスタリスク（*）が表示されるなど、目的と異なります。\nB. 誤り 「連続」への変更は、項目を不連続なカテゴリではなく、連続的な軸として扱うためのもので、データが集計されるかどうか（非集計）とは直接関係ありません。\nC. 正解 「測定の集計」オプションのチェックを外すと、Tableauはビューに配置されたメジャーの集計を解除し、データソースの各行を個別のマークとしてプロットします。これにより、単一の棒ではなく、すべての取引が個別の点として表示されます。\nD. 誤り ディメンションを追加すると、ビューはディメンションの粒度に合わせてデータが分割されますが、ディメンションが追加されなかった場合のデータ行ごとの集計の解除（完全な非集計）は、このオプションの操作で行うのが基本です。"},{id:54,category:"ビジュアライゼーション作成",question:"アナリストが、売上高（Sales）が特定の範囲（ビン）にどれだけ頻繁に分布しているかを視覚的に理解したいと考えています。つまり、売上高の頻度分布（ヒストグラム）を作成する必要があります。このヒストグラムを作成するために、アナリストがメジャー（[売上]）をどのように変換し、どのシェルフに配置すべきですか？",options:["A. [売上] メジャーを右クリックし、「累計」計算を適用し、それを「行」シェルフに配置する","B. [売上] メジャーから「ビン」を作成し、ビンを「列」シェルフに、売上（集計済み）を「行」シェルフに配置する","C. [売上] メジャーを「詳細」シェルフにドラッグし、マークタイプを「ヒートマップ」に変更する","D. [売上] メジャーをディメンションに変換し、「行」シェルフに配置し、マークタイプを「円」にする"],answer:"B",explanation:"A. 誤り 累計（Running Total）計算は、データの合計を累積的に表示するものであり、ヒストグラムに必要な頻度分布の視覚化は行いません。\nB. 正解 ヒストグラムは、連続するメジャーを離散的な間隔（ビン）に分割することで作成されます。ビン項目（ディメンション）を列シェルフに配置し、対応する集計メジャー（通常はレコード数やカウント）を行シェルフに配置することで、各ビンの頻度を示すヒストグラムが完成します。\nC. 誤り 詳細シェルフはデータの粒度を細分化しますが、ヒストグラムの基本的な構造（ビンと頻度の軸）を定義するものではありません。ヒートマップは密度の視覚化であり、頻度分布とは異なります。\nD. 誤り メジャーをディメンションに変換しても、数値がビンに分割されるわけではなく、個々の数値がカテゴリとして扱われることになります。ヒストグラムの作成には、ビンの概念が不可欠です。"},{id:55,category:"ビジュアライゼーション作成",question:"どのグラフタイプを作成する際、分析メニューからスタックマークをオフにしますか？",options:["A. 箱ひげ図","B. バーインバーチャート","C. ブレットグラフ","D. 結合軸グラフ"],answer:"B",explanation:"A. 箱ひげ図 箱ひげ図は、通常「表示形式」メニューから選択するか、マークタイプを「箱ひげ図」に変更して作成します。このグラフの作成過程で、分析メニューからスタックマークをオフにする操作は一般的に必要ありません。\nB. バーインバーチャート 正解です。バーインバーチャートは、2つのメジャー（例：今年の売上と昨年の売上）を同じ軸上に配置して作成します。デフォルトでは、これらの棒グラフは積み上げ（スタック）で表示されることがあります。棒を重ねて（一方が他方の内側に表示されるように）表示させるためには、[分析] メニューに移動し、[スタックマーク] の設定を [オフ] に変更する必要があります。\nC. ブレットグラフ ブレットグラフは、実績と目標などを比較するために使用され、通常は「表示形式」から作成するか、棒グラフにリファレンスラインを追加して作成します。スタックマークをオフにする操作は、このグラフタイプの標準的な作成手順には含まれません。\nD. 結合軸グラフ バーインバーチャートは結合軸グラフの一種ですが、すべての結合軸グラフ（例：線グラフと棒グラフの組み合わせ）でスタックマークをオフにする必要があるわけではありません。この操作は、特に棒グラフ同士を重ね合わせるバーインバーチャートを作成する際に特有の手順です。"},{id:56,category:"ビジュアライゼーション作成",question:"これらのグラフタイプのうち、主にメジャー（指標）を目標と比較するために使用されるものはどれですか？",options:["A. バーインバーチャート","B. ヒストグラム","C. ブレットグラフ","D. パレート図"],answer:"A",explanation:"A. バーインバーチャート 正解です。このグラフタイプは、「実績」対「目標」や「今年」対「昨年」など、2つのメジャーを比較するためによく使用されます。一方の棒をもう一方の棒の上に（または内側に）重ねて表示することで、目標との比較を効果的に行うことができます。\nB. ヒストグラム ヒストグラムは、連続メジャーの分布（度数）を異なるビン（階級）にわたって表示するために使用されます。特定の目標とメジャーを比較するようには設計されていません。\nC. ブレットグラフ 正解です。ブレットグラフは、ダッシュボードのゲージやメーターを置き換えるために設計されました。主要なメジャー（「実績」など）を、1つ以上の他のメジャー（「目標」や「悪い/良い/素晴らしい」の範囲など）とコンパクトなスペースで比較するのに優れています。\nD. パレート図 パレート図は、棒グラフと折れ線グラフを組み合わせたものです。棒は個々の値を降順で示し、線は累積合計パーセンテージを示します。これは、単一のメジャーを目標と直接比較するためではなく、「重要な少数」の問題（80/20の法則）を特定するために使用されます。",multiSelect:true,correctAnswers:["A","C"],numSelect:2},{id:57,category:"ビジュアライゼーション作成",question:"アナリストが、製品カテゴリ別の売上を示す棒グラフを作成しましたが、顧客セグメントごとに色が割り当てられた棒が積み重ねて（スタック）表示されています。アナリストは、各セグメントの棒が互いに積み重なるのではなく、同じベースラインから始まり、売上合計が正確に比較できるようにしたいと考えています。この積み重ね（スタッキング）の動作を解除し、各セグメントの棒を並べて表示するために、アナリストが取るべき適切な操作はどれですか？",options:["A. ツールバーの「分析」メニューから「マークの積み重ね」を「オフ」に変更する","B. 顧客セグメントのディメンションピルを「詳細」シェルフから「行」シェルフに移動する","C. 棒グラフを「ヒストグラム」などの別のマークタイプに変更する","D. 列シェルフのディメンションを右クリックし、「自動整列」を有効にする"],answer:"A",explanation:"A. 正解 「分析」メニューから「マークの積み重ね」設定を「オフ」にすることで、ビュー内のマークが積み重なる動作が無効化されます。これにより、各セグメントの棒は同じベースラインから始まるか、互いに重ねて描画され、積み重ねられた合計ではなく個別の値の比較に適したビューになります。\nB. 誤り この操作は、ビューをセグメントごとに分割し、各セグメントの棒を別々の行に表示します。同じ軸上で積み重ねを解除し、並べて表示するという要件は満たしません。\nC. 誤り マークタイプを変更しても、棒グラフの積み重ねの動作（スタッキング）は直接制御されません。ヒストグラムは別のデータ構造と計算を必要とします。\nD. 誤り 「自動整列」のような設定は存在しません。これは、棒の積み重ね動作を制御するための正式な機能ではありません。"},{id:58,category:"ビジュアライゼーション作成",question:"アナリストが、製品カテゴリごとの利益（Profit）を示す棒グラフを作成しました。アナリストは、利益がプラス（黒字）のカテゴリと、利益がマイナス（赤字）のカテゴリを、視覚的に明確に区別できるように色分けしたいと考えています。この色分けを実現するために、アナリストは以下の計算結果を、マークカードのどのシェルフにドラッグすべきですか？",options:["A. 利益の合計（SUM(Profit)）を「サイズ」シェルフにドラッグする","B. [利益の合計] をディメンションに変換し、「ラベル」シェルフにドラッグする","C. [利益 > 0] の計算項目を「色」シェルフにドラッグする","D. [利益の平均] を「詳細」シェルフにドラッグする"],answer:"C",explanation:"A. 誤り サイズシェルフは、マークの大きさ（この場合は棒の幅や長さ）を、メジャーの数値に基づいて変更するために使用されます。色分けを行う機能ではありません。\nB. 誤り ラベルシェルフは、マークにテキストとして値を表示するために使用されます。マークの色分け（利益の正負に基づく分類）を行う機能ではありません。\nC. 正解 [利益 > 0] のような条件式は、結果がTrue（利益がプラス）またはFalse（利益がマイナス）のブール値（またはディメンション）を返します。この項目を色シェルフにドラッグすることで、Tableauはこれらの二つのカテゴリに基づいてマークを自動的に色分けし、黒字と赤字のカテゴリを視覚的に明確に区別できます。\nD. 誤り 詳細シェルフは、マークの粒度を細かくしたり、ツールヒントに情報を追加したりするために使用されます。ビューのマークの色を視覚的な条件に基づいて変更する機能はありません。"},{id:59,category:"ビジュアライゼーション作成",question:"Tableau Desktopにおいて、ビュー内で個々のデータポイントに関する追加情報（ディテール）をユーザーが確認できるように、項目（フィールド）を配置するマークカード上の場所はどこですか？",options:["A. カラー","B. サイズ","C. ラベル","D. ディテール"],answer:"D",explanation:"A. カラー カラー（色）に項目を配置すると、その項目の値に基づいてビューのマークの色を制御します。これは、データポイントに関する詳細な情報を表示する場所ではありません。\nB. サイズ サイズに項目を配置すると、その項目の値に基づいてビューのマークの大きさを制御します。これも、データポイントに関する詳細な情報を表示する場所ではありません。\nC. ラベル ラベルに項目を配置すると、マークにその項目の値をテキストとして表示します。これは詳細を表示する一つの方法ですが、ディテールに配置された項目は、ツールヒントに表示されるだけでなく、ビューの詳細レベルを分割するために使用されます。\nD. ディテール 正解です。ディテール（Detail）に項目を配置すると、その項目のメンバーに基づいてビュー内のマークをさらに分割し、グラフの詳細レベル（粒度）を高めます。また、ここに配置された項目は、ユーザーがマークにマウスオーバーしたときに表示されるツールヒント（Tooltip）に自動的に含められ、個々のデータポイントに関する追加情報を提供します。"},{id:60,category:"ビジュアライゼーション作成",question:"アナリストが、地域ごとの売上、利益、数量の3つのメジャーを、ビューを乱さずにユーザーフレンドリーな形式で表示したいと考えています。ユーザーがマークにカーソルを合わせたときに、これら3つのメジャーの値がすべてカスタムの書式設定（例：通貨、小数点）とともに単一のボックス内に表示されるようにする必要があります。この要件を満たし、複数のメジャーをカスタム書式で表示するために、アナリストが編集すべき機能はどれですか？",options:["A. 凡例","B. ツールヒント","C. ダッシュボードのタイトル","D. パラメータコントロール"],answer:"B",explanation:"A. 凡例 凡例（レジェンド）は、ビューで使用されている色、形状、またはサイズの符号化（エンコーディング）と、対応するディメンションメンバーの関係を示すために使用されます。詳細なメジャー値を表示する機能ではありません。\nB. ツールヒント 正解です。ツールヒントエディタは、マークカードからアクセスでき、ユーザーがビュー内のマークにカーソルを合わせたときに表示される情報をカスタマイズするために使用されます。HTML、表、カスタム書式設定を駆使して、複数のメジャーやディメンションの情報を組み込んで表示できます。\nC. ダッシュボードのタイトル ダッシュボードのタイトルは、ビューまたはダッシュボード全体の静的または動的な見出しを表示するために使用されますが、個々のマークの詳細情報を表示する機能はありません。\nD. パラメータコントロール パラメータコントロールは、ユーザーが計算やフィルターで使用される変数の値を入力または選択できるようにするものであり、個々のマークに関する詳細な情報を表示する機能ではありません。"},{id:61,category:"ビジュアライゼーション作成",question:"ツールヒントにビジュアライゼーションを追加する方法はどれですか？",options:["A. マークカードの「ツールヒント」に移動し、「挿入」->「シート」をクリックします。","B. 「ワークシート」メニューに移動し、「ツールヒント」をクリックして、「挿入」->「シート」をクリックします。","C. 「書式設定」メニューに移動し、「ツールヒント」をクリックして、「挿入」->「シート」をクリックします。","D. ビューを右クリックし、「ツールヒント」を選択して、「挿入」->「シート」を追加します。"],answer:"A",explanation:"A. 正解 マークカードの「ツールヒント」シェルフをクリックするとツールヒントの編集ダイアログが開きます。そこにある「挿入」ボタンから、ビューに含めたい他の「シート」を選択することで、Viz in Tooltip（ツールヒント内のビジュアライゼーション）を設定できます。\nB. 正解 Tableauの上部メニューバーにある「ワークシート」を選択し、ドロップダウンから「ツールヒント」をクリックしても、マークカードからアクセスするのと同じ編集ダイアログを開くことができます。ここから「挿入」->「シート」を選択できます。\nC. 誤り 「書式設定」メニューは、ビューの外観（フォント、色、境界線など）を調整するためのものです。ツールヒントの編集ダイアログ（特にシートを挿入する機能）は、このメニューには含まれていません。\nD. 誤り ビュー（ビジュアライゼーション領域）を右クリックしても、ツールヒントにシートを挿入するための編集ダイアログを直接開くオプションは表示されません。",multiSelect:true,correctAnswers:["A","B"],numSelect:2},{id:62,category:"ビジュアライゼーション作成",question:"アナリストが、地域ごとの売上、利益、数量の3つのメジャーを、ビューを乱さずにユーザーフレンドリーな形式で表示したいと考えています。ユーザーがマークにカーソルを合わせたときに、これら3つのメジャーの値がすべてカスタムの書式設定（例：通貨、小数点）とともに単一のボックス内に表示されるようにする必要があります。この要件を満たし、複数のメジャーをカスタム書式で表示するために、アナリストが編集すべき機能はどれですか？",options:["A. ツールヒント","B. 凡例","C. ダッシュボードのタイトル","D. パラメータコントロール"],answer:"A",explanation:"A. ツールヒント 正解です。ツールヒントエディタは、マークカードからアクセスでき、ユーザーがビュー内のマークにカーソルを合わせたときに表示される情報をカスタマイズするために使用されます。HTML、表、カスタム書式設定を使用して複数のメジャーやディメンションの情報を組み込んで表示できます。\nB. 凡例 凡例（レジェンド）は、ビューで使用されている色、形状、またはサイズの符号化（エンコーディング）と、対応するディメンションメンバーの関係を示すために使用されます。詳細なメジャー値を表示する機能ではありません。\nC. ダッシュボードのタイトル ダッシュボードのタイトルは、ビューまたはダッシュボード全体の静的または動的な見出しを表示するために使用されますが、個々のマークの詳細情報を表示する機能はありません。\nD. パラメータコントロール パラメータコントロールは、ユーザーが計算やフィルターで使用される変数の値を入力または選択できるようにするものであり、個々のマークに関する詳細な情報を表示する機能ではありません。"},{id:63,category:"マップ・地理的分析",question:"ビューで背景画像を使用しています。画像上のX座標とY座標を見つけるにはどうすればよいですか？",options:["A. カスタムジオコーディングの使用","B. ポイントに注釈を付ける","C. エリアに注釈を付ける","D. ドロップラインの使用"],answer:"B",explanation:"A. カスタムジオコーディングの使用 カスタムジオコーディングは、Tableauが標準で認識しない地理的役割（例：特定の販売エリア）をマップ上に表示するために使用する機能であり、背景画像上の特定の座標を見つけるためには使用しません。\nB. ポイントに注釈を付ける 正解です。Tableauで背景画像上の任意の場所を右クリックし、「注釈」>「ポイント」を選択すると、その特定のポイントのX座標とY座標が注釈ボックスに表示されます。\nC. エリアに注釈を付ける エリアに注釈を付ける機能は、画像上の特定の範囲（エリア）に説明を追加するために使用しますが、クリックした単一のポイントの正確なX/Y座標を表示する機能ではありません。\nD. ドロップラインの使用 ドロップラインは、通常、線グラフやエリアグラフなどで、マークから軸まで垂線を引いて値を読みやすくするための機能です。背景画像上の座標を見つけるためには使用しません。"},{id:64,category:"マップ・地理的分析",question:"Tableau Desktopで地理的項目（地理的項目）をビューに配置した際、自動的に作成されるグラフの種類は次のうちどれですか？",options:["A. 棒グラフ","B. 階層マップ","C. 塗りつぶしマップ","D. バブルチャート"],answer:"C",explanation:"A. 棒グラフ 棒グラフは、通常、ディメンションとメジャーの組み合わせから作成され、地理的項目の単独配置では自動的に作成されません。\nB. 階層マップ 階層マップ（TreeMap）は、入れ子になった長方形でデータを視覚化するもので、地理的項目を配置した際に自動的に作成されるものではありません。\nC. 塗りつぶしマップ 正解です。Tableau Desktopで、「国」や「都道府県」などの地理的項目（ロールが割り当てられたディメンション）をビューに配置すると、Tableauは自動的に緯度と経度の項目を行と列に配置し、マークタイプをマップに設定して、地域全体を色で塗りつぶす塗りつぶしマップ（Filled Map）を作成します。\nD. バブルチャート バブルチャートは、メジャーをサイズや色に使用することで作成されますが、地理的項目を配置した際に自動的に作成される既定のマップタイプではありません（ポイントマップは自動作成されますが、バブルチャートはさらにサイズにメジャーが必要です）。"},{id:65,category:"マップ・地理的分析",question:"Tableauで利用可能なマップレイヤーは次のうちどれですか？",options:["A. 近隣/地域","B. 関心のある地点","C. 市区町村の境界線","D. 市外局番ラベル"],answer:"A",explanation:"A. 近隣/地域 正解です。Tableauのマップ機能には、背景マップのスタイルオプションの一部として、道路や都市ラベルなどと共に「近隣/地域」の境界やラベルを表示するレイヤーが含まれています。\nB. 関心のある地点 正解です。Tableauのマップレイヤーオプションには、公園、学校、空港、その他の「関心のある地点」を表示する機能が含まれており、地図上に追加のコンテキストを提供します。\nC. 市区町村の境界線 Tableauは州、郡（郡）、郵便番号などの境界線を表示するレイヤーを提供していますが、「市区町村の境界線」という名前の特定の標準マップレイヤーは提供していません。都市レベルのデータ（点や形状）を表示することは可能ですが、レイヤー名としてはこれが該当しません。\nD. 市外局番ラベル 正解です。Tableauのマップレイヤーには、米国の電話番号の「市外局番」の境界とラベルを表示するオプションが含まれています。",multiSelect:true,correctAnswers:["A","B","D"],numSelect:3},{id:66,category:"マップ・地理的分析",question:"コロプレスマップ（塗り分け地図）を作成するには、データソースにどのタイプの情報を含める必要がありますか？",options:["A. 定量的または定性的な値","B. 場所の名前またはカスタムポリゴン","C. 背景画像","D. カスタムテリトリー"],answer:"A",explanation:"A. 定量的または定性的な値 正解です。コロプレスマップは、定義されたエリアを色で塗り分けるために、何らかの値を必要とします。これは、売上のような「定量的」な値（色の濃淡で表現）でも、地域カテゴリのような「定性的」な値（個別の色で表現）でもかまいません。\nB. 場所の名前またはカスタムポリゴン 正解です。コロプレスマップは、色を塗るための定義済みエリアが必要です。これは、Tableauが認識する「場所の名前」（国、州、郵便番号など）か、または空間ファイル（Shapefileなど）からインポートした「カスタムポリゴン」のいずれかである必要があります。\nC. 背景画像 背景画像は、標準的なコロプレスマップ（地理的役割に基づくマップ）ではなく、カスタムの画像（例：フロアプラン、機械の概略図）の上にデータをプロットするために使用されます。\nD. カスタムテリトリー カスタムテリトリーは、既存の場所（例：複数の州）をグループ化して新しい地理的エリアを作成するTableauの機能です。これはコロプレスマップで使用できますが、マップ作成の基本的な必須情報タイプではありません（Bの場所の名前に基づいています）。",multiSelect:true,correctAnswers:["A","B"],numSelect:2},{id:67,category:"マップ・地理的分析",question:"カスタムジオコーディングとデータブレンディングに関して正しいものは次のうちどれですか？",options:["A. カスタムジオコーディングを使用すると、独自の場所をマップにプロットできますが、データブレンディングの使用中はそうではありません。","B. データブレンディングでは任意のデータを使用できますが、カスタムジオコーディングにはテキストファイルベースのデータが必要です。","C. カスタムジオコーディングを使用すると、新しい地理的階層を作成できますが、データブレンディングの使用中はそうではありません。","D. データブレンディングとカスタムジオコーディングの両方で、新しい地理的役割を作成できます。"],answer:"B",explanation:"A. 誤り カスタムジオコーディングは新しい地理的役割を定義する機能です。データブレンディングはデータソースを結合する機能であり、カスタムジオコーディングで定義された場所をマップ上で使用することを妨げるものではありません。\nB. 正解 データブレンディングは様々なデータソースタイプ（SQL、Excelなど）で使用できます。一方、Tableauに新しい地理的役割（カスタムジオコーディング）をインポートする際は、緯度経度や階層情報を含む特定のスキーマに基づいたテキストファイル（.csv）が必要となります。\nC. 正解 カスタムジオコーディングの主な機能の一つは、標準では存在しない地理的役割（例：販売エリア）を定義し、それらを既存の階層（例：国 > 州 > 販売エリア）に組み込むことです。データブレンディングはデータ結合の手法であり、地理的階層を定義する機能はありません。\nD. 誤り 新しい地理的役割（例：独自の地域区分）を作成できるのはカスタムジオコーディングのみです。データブレンディングは、既存のデータソースをリンクさせる機能であり、新しい地理的役割を定義する機能ではありません。",multiSelect:true,correctAnswers:["B","C"],numSelect:2},{id:68,category:"マップ・地理的分析",question:"マップ上でカスタムテリトリーを作成する方法はどれですか？",options:["A. 地理的項目からテリトリーを作成する","B. マップ上で背景画像を使用する","C. マップ上の場所を選択してグループ化する","D. 別の地理的項目を使用してテリトリー項目をジオコーディングする"],answer:"A",explanation:"A. 正解 データペインで既存の地理的項目（例：州、郵便番号）を右クリックし、「作成」>「テリトリー」を選択することで、それらのメンバーをグループ化してカスタムテリトリーを作成できます。\nB. 誤り 背景画像は、フロアプランや独自の画像上にデータをプロットするために使用される機能であり、標準の地理的マップ上でカスタムテリトリー（例：販売地域）を作成する方法ではありません。\nC. 正解 マップビュー上で、ラッソ選択ツールや矩形選択ツールなどを使用して複数の場所（マーク）を選択し、ツールヒントに表示されるグループ（クリップ）アイコンをクリックすることで、カスタムテリトリーを作成できます。\nD. 正解 カスタムテリトリーの元になる項目（例：「販売地域」）がTableauに認識されない場合、その項目に地理的役割を割り当て、既知の地理的項目（例：「州」）を使用してジオコーディングを行うことで、カスタムテリトリーとして機能させることができます。",multiSelect:true,correctAnswers:["A","C","D"],numSelect:3},{id:69,category:"マップ・地理的分析",question:"Tableauで使用できるマップレイヤーは次のうちどれですか？",options:["A. 近隣/地域","B. 対象ポイント (Points of Interest)","C. 市の境界線","D. エリアコードラベル"],answer:"A",explanation:"A. 近隣/地域 正解です。これはTableauの標準マップレイヤーオプションであり、マップ上に近隣地域（例：地区名など）の情報を表示します。\nB. 対象ポイント (Points of Interest) 正解です。これはTableauの標準マップレイヤーオプションであり、公園、学校、空港などの主要な地点を表示します。\nC. 市の境界線 Tableauのマップレイヤーオプションには、「郡の境界線」や「州/県の境界線」はありますが、「市の境界線」という特定のレイヤーオプションは標準では提供されていません。\nD. エリアコードラベル 正解です。これはTableauの標準マップレイヤーオプションであり、電話のエリアコード（市外局番など）のラベルをマップ上に表示します。",multiSelect:true,correctAnswers:["A","B","D"],numSelect:3},{id:70,category:"マップ・地理的分析",question:"データをマップするために ___________ な場所が必要な場合、カスタムジオコーディングを使用します。",options:["A. デフォルトの","B. 州の","C. ユーザー定義の","D. Tableauが生成した"],answer:"C",explanation:"A. デフォルトの Tableauに標準搭載されているデフォルトの地理的役割（国、州、市など）を使用する場合、カスタムジオコーディングは必要ありません。\nB. 州の 「州」はTableauがデフォルトで認識する標準的な地理的役割の一つであり、カスタムジオコーディングは不要です。\nC. ユーザー定義の 正解です。カスタムジオコーディングは、Tableauの標準の地理的役割には含まれていない、ユーザー独自の場所（例：独自の販売テリトリー、特定の施設所在地、標準外の郵便番号など）をインポートしてマップ上に表示するために使用する機能です。\nD. Tableauが生成した 「Tableauが生成した」場所とは、AやBと同様の標準的な地理的役割を指します。カスタムジオコーディングは、Tableauが標準で持っていない場所のために使用されます。"},{id:71,category:"分析機能",question:"ビューに参照線を追加する方法はどれですか？（正解を2つ選択してください）",options:["A. 「アナリティクスペイン」を使用する","B. 「データペイン」を使用する","C. 「分析メニュー」を使用する","D. 軸を右クリックして「参照線の追加」を選択する"],answer:"A",explanation:"A. 正解 Tableauのワークシートの左側にある「アナリティクス」ペインには、「参照線」オプションがあります。これをビューにドラッグアンドドロップすることで、参照線を追加できます。\nB. 誤り 「データペイン」は、データソースのディメンションやメジャー（項目）を表示し、選択する場所です。参照線を追加するための直接的な機能はここにはありません。\nC. 誤り 「分析」メニュー（トップメニュー）には、合計の表示、傾向線の追加、予測などのオプションがありますが、「参照線の追加」の主要なインターフェースではありません。\nD. 正解 ビュー内の連続軸（通常はメジャーが配置されているY軸またはX軸）を右クリックすると表示されるコンテキストメニューから、「参照線、バンド、またはボックスの追加」を選択して参照線を設定できます。",multiSelect:true,correctAnswers:["A","D"],numSelect:2},{id:72,category:"分析機能",question:"Tableauで使用可能な予測品質メトリクスは次のうちどれですか？",options:["A. RMSE","B. MAPE","C. AISE","D. MASE"],answer:"A",explanation:"A. RMSE 正解です。RMSE（二乗平均平方根誤差）は、Tableauの予測の説明で提供される主要な品質メトリクスの一つです。\nB. MAPE 正解です。MAPE（平均絶対パーセント誤差）も、Tableauの予測の説明で一般的に使用されるメトリクスです。\nC. AISE AISEは、Tableauの標準的な予測品質メトリクスとして提供されていません。\nD. MASE 正解です。MASE（平均絶対スケーリング誤差）は、Tableauの予測の説明で提供されるメトリクスです。",multiSelect:true,correctAnswers:["A","B","D"],numSelect:3},{id:73,category:"分析機能",question:"箱ひげ図において、上ひげの上限（上側の境界線）はどのように計算されますか？",options:["A. 上ひげ = 上ヒンジ + (1.5 * IQR)","B. 上ひげ = 下ヒンジ + (1.5 * IQR)","C. 上ひげ = (上ヒンジ - 下ヒンジ) + (1.5 * IQR)","D. 上ひげ = IQR + (1.5 * IQR)"],answer:"A",explanation:"A. 正解 箱ひげ図における上ひげの上限は、上ヒンジ（第3四分位点, Q3）に、四分位範囲（IQR）の1.5倍を加えた値として定義されます。\nB. 誤り 下ヒンジ（Q1）は、下ひげの境界を計算する際の基準です。\nC. 誤り 「上ヒンジ 下ヒンジ」はIQRそのものであり、正しい計算方法ではありません。\nD. 誤り 上ヒンジ（Q3）を基準に計算する必要があるため、誤りです。"},{id:74,category:"分析機能",question:"\"Global Superstore\" データソースに接続し、Orders テーブルを使用します。連続月ごとの売上を示すビューを作成し、どの傾向線モデルタイプが最も低いR二乗値（決定係数）を提供するかを見つけてください。",options:["A. 線形","B. 指数","C. 多項式、次数 2","D. 多項式、次数 3"],answer:"A",explanation:"A. 正解 最も単純な直線で当てはめる線形モデルが、データの変動を最も説明できず、R二乗値が最も低くなります。\nB. 指数 指数モデルは線形モデルよりは当てはまりが良いことが多いです。\nC. 多項式、次数 2 2次の多項式モデルは線形モデルよりも柔軟であり、より高いR二乗値を示します。\nD. 多項式、次数 3 3次の多項式モデルは最も高いR二乗値を示す傾向があります。"},{id:75,category:"分析機能",question:"アナリストが、販売チームの月間売上実績を示す棒グラフを作成しました。アナリストは、このグラフに、データに基づいて動的に計算されるのではなく、事前定義された「最低目標値」と「最高目標値」の間の範囲を視覚的に強調表示したいと考えています。この分析要件を満たすために、アナリストはワークシートの分析ペインからビューにドラッグすべき機能はどれですか？",options:["A. 傾向線","B. リファレンスバンド","C. 分布線","D. 平均線"],answer:"B",explanation:"A. 傾向線 データポイント間のパターンを示すもので、目標範囲の強調には適していません。\nB. リファレンスバンド 正解です。2つの数値の間の領域を塗りつぶして表示するために使用されます。\nC. 分布線 統計的尺度に基づいてデータの分布範囲を強調するもので、固定された目標値の範囲には適していません。\nD. 平均線 単一の数値を示すもので、範囲（バンド）ではありません。"},{id:76,category:"分析機能",question:"アナリストが、過去3年間の月別売上高を示す折れ線グラフを作成しました。アナリストは、このグラフに組み込みのモデルを使用して、今後の6か月間の売上を自動的に予測し、その予測範囲を視覚的に表示したいと考えています。この分析（予測）を行うために、アナリストがワークシートの分析ペインからビューにドラッグすべき機能はどれですか？",options:["A. クラスター","B. 予測","C. 分布線","D. 参照線"],answer:"B",explanation:"A. クラスター 類似したデータポイントをグループ化するもので、将来予測には適していません。\nB. 予測 正解です。時系列データに対して指数平滑法（ETS）モデルを適用し、将来のデータポイントを自動的に計算します。\nC. 分布線 既存のデータ範囲を強調するもので、未来の値を推定する機能ではありません。\nD. 参照線 単一の値をビューに追加するもので、将来の予測値を示す機能ではありません。"},{id:77,category:"分析機能",question:"アナリストが、売上（Sales）と利益（Profit）の相関関係を調査するために散布図を作成しました。アナリストは、この2つのメジャー間の統計的な関係の強さと方向性を視覚的に評価するために、最も適切な分析モデルをビューに追加したいと考えています。この相関関係の方向と強さを示す線を追加するために、アナリストがワークシートの分析ペインからビューにドラッグすべき機能はどれですか？",options:["A. 予測","B. リファレンスバンド","C. 分布線","D. 傾向線"],answer:"D",explanation:"A. 予測 時系列データに対して将来の値を推定するもので、相関関係の評価には適していません。\nB. リファレンスバンド 2つの値の間の領域を塗りつぶすもので、統計的関係のモデル化には適していません。\nC. 分布線 データの統計的な分散の範囲を示すもので、線形関係のモデル化には適していません。\nD. 傾向線 正解です。2つの連続するメジャー間に統計的なモデルを適用し、関係の方向と強さを視覚的に示します。"},{id:78,category:"分析機能",question:"「Global Superstore」データソースに接続し、Ordersテーブルを使用してください。箱ひげ図を作成して、各配送モードの売上分布を表示してください。次の中で、中央値が同じ配送モードはどれですか？",options:["A. ファーストクラス","B. 当日","C. セカンドクラス","D. 標準クラス"],answer:"A",explanation:"A. ファーストクラス 正解です。「当日」と同じ中央値を示します。\nB. 当日 正解です。「ファーストクラス」と同じ中央値を示します。\nC. セカンドクラス 「ファーストクラス」および「当日」とは異なる中央値を示します。\nD. 標準クラス 「ファーストクラス」および「当日」とは異なる中央値を示します。",multiSelect:true,correctAnswers:["A","B"],numSelect:2},{id:79,category:"分析機能",question:"箱ひげ図において、上側ひげの長さ（上限）はどのように計算できますか？",options:["A. 上側ひげ = 上側ヒンジ + (1.5 * IQR)","B. 上側ひげ = 下側ヒンジ + (1.5 * IQR)","C. 上側ひげ = (上側ヒンジ - 下側ヒンジ) + (1.5 * IQR)","D. 上側ひげ = IQR + (1.5 * IQR)"],answer:"A",explanation:"A. 正解 上側ヒンジ（Q3）にIQRの1.5倍を加えた値が上側ひげの境界となります。\nB. 誤り 下側ヒンジを基準にしているため誤りです。\nC. 誤り (上側ヒンジ 下側ヒンジ) はIQRそのものであり、正しい計算ではありません。\nD. 誤り 上側ヒンジを開始点としていないため誤りです。"},{id:80,category:"フィルター・パラメータ・セット",question:"アナリストが、同じデータソースを使用している2つのワークシート（棒グラフと円グラフ）をダッシュボードに配置しました。アナリストは、一方のワークシートに適用した「地域」フィルターを、ダッシュボード上のもう一方のワークシートにも同時に適用したいと考えています。このフィルターをダッシュボード上の複数のワークシートに適用するために、アナリストが取るべき適切な操作はどれですか？",options:["A. フィルターシェルフのディメンションピルを右クリックし、「ワークシートに適用」から「このデータソースを使用するすべてのワークシート」を選択する","B. ワークシートを右クリックし、「フィルターアクション」を作成し、もう一方のワークシートをターゲットに設定する","C. フィルターをパラメータに変換し、両方のワークシートの計算項目にパラメータを組み込む","D. フィルターコントロールをダッシュボードに配置した後、コントロールを右クリックして「ワークブック全体で適用」を選択する"],answer:"A",explanation:"A. 正解 フィルターピルのコンテキストメニューにある「ワークシートに適用」オプションを使用すると、同じデータソースを使用しているすべてのワークシートにそのフィルターを適用するよう、そのフィルターのスコープをグローバルに設定できます。\nB. 誤り フィルターアクションは、ユーザーがマークをクリックするなどの操作に応じてビューを絞り込む機能であり、静的なフィルターコントロールを複数のシートに連動させる目的には適していません。\nC. 誤り この方法は技術的に可能ですが、単純なディメンションフィルターの連動としては過剰であり、最も簡単で標準的な解決策ではありません。\nD. 誤り ダッシュボード上のフィルターコントロールには「ワークブック全体で適用」という標準オプションはありません。フィルターの適用範囲は、元のワークシートのフィルターピルで設定する必要があります。"},{id:81,category:"フィルター・パラメータ・セット",question:"アナリストが、ダッシュボードのエンドユーザーが、地域分析の粒度を「州（State）」と「市（City）」の間で動的に切り替えられるようにしたいと考えています。ユーザーがコントロールで選択した粒度に基づいて、グラフの軸とフィルターの両方が変更される必要があります。この対話的な粒度の切り替え機能を実装するために、アナリストが作成すべきTableauの機能はどれですか？",options:["A. セットアクション","B. グループ","C. ハイライトアクション","D. パラメータ"],answer:"D",explanation:"A. セットアクション セットアクションは、ユーザーの選択に基づいて、定義されたセットのメンバーシップを変更するために使用されます。データの粒度を切り替える機能ではありません。\nB. グループ グループは、ディメンションの特定のメンバーを静的に組み合わせるために使用されます。動的な粒度の切り替えには使用できません。\nC. ハイライトアクション ハイライトアクションは、ユーザーがマークをクリックした際に、関連するビューのマークを強調表示するために使用されます。ディメンション自体を切り替える機能はありません。\nD. パラメータ 正解です。パラメータは、ユーザーからの入力を受け取る単一の値を作成します。このパラメータは、CASE関数などを使用した計算項目と組み合わせて使用され、ユーザーの選択に応じてビューのディメンションを動的に切り替えることができます。"},{id:82,category:"フィルター・パラメータ・セット",question:"アナリストが、売上高に基づいて「上位10位の顧客」と「その他の顧客」という2つのカテゴリに顧客を分類し、それぞれの売上貢献度を比較したいと考えています。この分類は、ビューの構成や他のディメンションの表示に関わらず、顧客レベルで定義され、分析に使用できる必要があります。この分析要件を満たすために、アナリストが作成すべきTableauの機能はどれですか？",options:["A. グループ機能","B. パラメータと計算項目","C. セット機能","D. 階層"],answer:"C",explanation:"A. グループ機能 グループ機能は、ディメンションのメンバーを手動で結合するために使用されます。売上高などのメジャーに基づいて動的にメンバーを決定する「上位N」の分類には適していません。\nB. パラメータと計算項目 パラメータは「上位N」の「N」の値を動的に変更するために使用できますが、実際に上位のメンバーを識別し分類する機能はセットによって実現されます。\nC. セット機能 正解です。セット機能は、「条件」タブや「上位」タブ（Top N）を使用して、メジャーに基づく動的なメンバーシップ（In/Out）を定義するのに最適です。\nD. 階層 階層は、関連するディメンションをグループ化してドリルダウンできるようにするために使用されます。Top Nに基づく二値分類を作成する機能ではありません。"},{id:83,category:"フィルター・パラメータ・セット",question:"アナリストが、非常に大規模な取引データセットを扱っており、分析に必要とされるのは直近2年間のデータのみです。パフォーマンスを向上させ、セキュリティを強化するために、ワークブックのどのワークシートにも、古いデータを読み込ませたくありません。ワークブック全体で、最初にデータを永続的に制限し、Tableauへのデータの読み込み量を最小限に抑えるために、最も効率的で適切なフィルターはどれですか？",options:["A. データソースフィルター","B. コンテキストフィルター","C. ディメンションフィルター","D. テーブル計算フィルター"],answer:"A",explanation:"A. データソースフィルター 正解です。データソースフィルターは、データソースへの接続時に適用され、Tableauがデータソースから取得する行を永続的に制限します。これは、ワークブック内のすべてのワークシートに影響を与え、データの読み込み量を最小限に抑えるため、パフォーマンスとセキュリティの両方において最も効率的な方法です。\nB. コンテキストフィルター コンテキストフィルターは、データソース接続後にワークブック内で適用されます。元のデータソースからTableauが読み込むデータ量自体は削減しません。\nC. ディメンションフィルター ディメンションフィルターは、ワークシートレベルで適用され、データの読み込み量全体を削減するものではありません。\nD. テーブル計算フィルター テーブル計算フィルターは、集計が完了した後にビューからマークを非表示にするために使用されます。データソースからの読み込み量には影響しません。"},{id:84,category:"フィルター・パラメータ・セット",question:"パラメーターアクションに関して、次のうち正しいものはどれですか？",options:["A. パラメーターアクションの作成中に、集計を指定する必要があります。","B. パラメーターアクションに選択した集計は、ビュー内の項目に使用される集計と異なる場合があります。","C. ダッシュボードに複数のパラメーターアクションを作成できます。","D. パラメーターアクションを使用して、リファレンスラインを更新できます。"],answer:"B",explanation:"A. 誤り パラメーターアクションの設定には集計オプションが含まれますが、「なし」を選択することも可能です。常に数学的な集計を指定する必要があるわけではありません。\nB. 正解 ビューで使用されているメジャーの集計方法と、パラメーターアクションでパラメーターに値を渡すために選択する集計方法は、それぞれ個別に設定できます。\nC. 正解 ダッシュボードのインタラクティブ性を高めるために、1つのダッシュボード上で複数の異なるパラメーターアクションを設定できます。\nD. 正解 リファレンスラインの値としてパラメーターを使用できます。パラメーターアクションでそのパラメーターの値を変更することで、間接的にリファレンスラインを動的に更新することが可能です。",multiSelect:true,correctAnswers:["B","C","D"],numSelect:3},{id:85,category:"フィルター・パラメータ・セット",question:"アナリストが、膨大な製品リストを含むデータソースを扱っています。アナリストは、ワークシートで使用するデータを、製品名に「Smart」という単語がどこかに含まれているすべての製品に絞り込みたいと考えています。この要件を満たすために、製品名ディメンションに適用すべき適切なフィルターの条件設定はどれですか？",options:["A. 条件タブ: [製品名] が「Smart」と等しい（Equal to）","B. ワイルドカードタブ: 「Smart」で始まる（Starts with）","C. ワイルドカードタブ: 「Smart」を含む（Contains）","D. トップタブ: [売上] で上位10の製品名を設定する"],answer:"C",explanation:"A. 誤り この設定は、製品名が完全に「Smart」と一致する場合にのみ製品を返します。「Smart Phone」などは除外されます。\nB. 誤り この設定は、製品名が「Smart」で始まっている製品のみを返します。「Super Smart Watch」のように途中に含まれる製品は除外されます。\nC. 正解 「含む」（Contains）ワイルドカード設定は、製品名の文字列内のどの位置に「Smart」が含まれていても、その製品を結果セットに含めます。\nD. 誤り これは売上高に基づいて上位の項目をフィルタリングするもので、文字列の一部を検索する目的とは異なります。"},{id:86,category:"フィルター・パラメータ・セット",question:"アナリストが、地域ごとの利益を分析する際、一部のレコードで「地域」ディメンションにNULL値（欠損値）が含まれていることに気づきました。これらのNULL値を持つレコードをビューから除外し、有効なデータのみに基づいて計算を行う必要があります。ビューからNULL値を持つレコードを除外するために、アナリストが「地域」ディメンションにフィルターを適用する際に設定すべき最も適切なオプションはどれですか？",options:["A. 条件タブで、[地域] が NOT EMPTY（空ではない）という計算式を使用する","B. トップタブで、[地域] に基づいて「下位10の項目」を適用する","C. フィルターダイアログボックスの「一般」タブで、NULL値の選択を解除する","D. ワークシートの「分析」メニューから「測定の集計」のチェックを外す"],answer:"C",explanation:"A. 誤り この方法は計算項目を通じてNULLを除外できますが、一般タブを使用する方が簡単で直接的です。\nB. 誤り トップNフィルターはメジャーの集計値に基づく順位付けを行うもので、NULL値を除外する目的には使用できません。\nC. 正解 ディメンションをフィルターシェルフにドラッグし、フィルターダイアログボックスの「一般」タブを開くと、ディメンションのすべてのメンバーが表示されます。このリストからNULL値のチェックを外すことで、簡単に除外できます。\nD. 誤り この操作はデータが集計された単一のマークとして表示されるのを防ぐ機能で、NULL値を除外する機能ではありません。"},{id:87,category:"フィルター・パラメータ・セット",question:"Tableau Desktopにおいて、ビュー内のデータポイントが特定の閾値を超えた場合に、自動的に色やサイズを変更して注意を引くために使用される機能は何ですか？",options:["A. パラメータ","B. ハイライトアクション","C. 参照線","D. 警告/アラート"],answer:"B",explanation:"A. パラメータ パラメータはユーザー入力を受け付け、計算やフィルターの値を動的に変更するために使用されます。自動的に視覚的な強調表示を行う機能ではありません。\nB. ハイライトアクション 正解です。ハイライトアクションは、ユーザーがダッシュボードまたはワークシート上で特定のマークを選択またはマウスオーバーしたときに、関連するマークを強調表示するために使用されます。条件付き書式設定と組み合わせて、視覚的な注意を引く機能として使用できます。\nC. 参照線 参照線は軸上に固定または計算された値を描画しますが、個々のデータポイントの色やサイズを自動的に変更する機能ではありません。\nD. 警告/アラート 警告（アラート）はTableau Server/Cloudで特定の閾値を超えた場合にメール通知を送信する機能で、ビュー内での視覚的な強調表示を行う機能ではありません。"},{id:88,category:"ダッシュボード・アクション",question:"アナリストが、地域ごとの総売上高を示す棒グラフ（ワークシートA）と、その地域の各顧客の個別の取引額を示す詳細テーブル（ワークシートB）を、一つのダッシュボード上に配置しました。ワークシートAで特定の地域の棒をクリックしたときに、ワークシートBのテーブルがその地域に関連する顧客のデータのみに自動的に更新されるように、ダッシュボードの対話性を設定するには、どの機能を使用すべきですか？",options:["A. フィルターアクション","B. パラメータ","C. セットアクション","D. ツールヒントアクション"],answer:"A",explanation:"A. フィルターアクション 正解です。フィルターアクションは、あるワークシート（ソース）で選択されたマークをトリガーとして、ダッシュボード上の別のワークシート（ターゲット）のデータを自動的に絞り込むために使用される標準的なダッシュボード機能です。\nB. パラメータ パラメータは計算項目や参照線などの値に影響を与えるユーザー入力を受け付けるために使用されますが、マークをクリックした動作に連動して他のビューを自動的にフィルタリングする機能は持っていません。\nC. セットアクション セットアクションは、ユーザーの操作に基づいてセットのメンバーシップを動的に変更するために使用されます。単純なフィルタリングは実現可能ですが、より複雑なロジックを伴います。\nD. ツールヒントアクション ツールヒントアクションは、マークにカーソルを合わせたときに表示されるツールヒント内に、別のワークシートやURLへのリンクを追加するために使用されます。ターゲットワークシートを自動的にフィルタリングする機能ではありません。"},{id:89,category:"ダッシュボード・アクション",question:"Tableauにおける、有効なダッシュボードアクションは次のうちどれですか？",options:["A. URL アクション","B. フィルターアクション","C. ホバーアクション","D. 選択アクション"],answer:"A",explanation:"A. URL アクション 正解です。これはTableauの標準的なダッシュボードアクションタイプの一つです。ビュー内のマークをクリックしたり、ホバーしたりすることで、外部のウェブページ（URL）を開くように構成できます。\nB. フィルターアクション 正解です。これもTableauの主要なダッシュボードアクションタイプの一つです。一つのシートでの操作が、ダッシュボード上の他のシートに対するフィルターとして機能するように設定できます。\nC. ホバーアクション 「ホバー（マウスオーバー）」は、アクションの「種類」ではなく、アクションを実行する「タイミング」（トリガー）の一つです。「ホバーアクション」という名前のアクションタイプは存在しません。\nD. 選択アクション 「選択（クリック）」も、アクションを実行する「タイミング」（トリガー）の一つです。「選択アクション」という名前のアクションタイプは存在しません。",multiSelect:true,correctAnswers:["A","B"],numSelect:2},{id:90,category:"ダッシュボード・アクション",question:"デフォルトダッシュボードへの変更が、電話レイアウトに自動的に反映されるようにするために使用できる正しいオプションを選択してください。",options:["A. 電話レイアウトオプションの右側にある開いた鍵アイコンをクリックする","B. 電話レイアウトオプションの右側にある3つの点をクリックし、「レイアウトの最適化」を選択する","C. 電話レイアウトオプションの右側にある3つの点をクリックし、「レイアウトの自動生成」を選択する","D. 上記のすべて"],answer:"A",explanation:"A. 正解 電話レイアウトのアイコンが「開いた鍵」（ロック解除）の状態であることは、レイアウトが自動生成モードであり、デフォルトダッシュボードの変更が自動的に反映されることを意味します。\nB. 誤り 「レイアウトの最適化」は、Tableauのデバイスレイアウト設定に関する標準的なメニューオプションではありません。\nC. 正解 レイアウトが手動でカスタマイズされている場合、このオプションを選択すると、デフォルトダッシュボードに基づいてレイアウトが自動的に再生成されます。\nD. 誤り Bが不正解であるため、この選択肢は誤りです。",multiSelect:true,correctAnswers:["A","C"],numSelect:2},{id:91,category:"ダッシュボード・アクション",question:"Tableau Desktopにおいて、複数のワークシート（Worksheets）を一つの画面にまとめて表示し、対話的な操作や統一された分析を可能にするためのコンテナは何と呼ばれますか？",options:["A. ストーリー","B. ダッシュボード","C. シート","D. ブック"],answer:"B",explanation:"A. ストーリー ストーリーは、特定の順序で配置されたワークシートやダッシュボードを使用して、分析結果のナレーションを作成する機能です。複数のワークシートを一つにまとめて表示するコンテナとしての役割よりも、プレゼンテーションの役割が大きいです。\nB. ダッシュボード 正解です。ダッシュボードは、複数のワークシート、凡例、フィルター、ウェブページなどを単一のレイアウトに統合し、ユーザーに統一された対話的なビューを提供するコンテナです。\nC. シート シートはワークシートのことを指し、個々のグラフや表を作成する作業領域です。複数のワークシートをまとめるコンテナではありません。\nD. ブック ブック（Workbook）はTableauで作成するファイル全体のことを指し、複数のワークシート、ダッシュボード、ストーリーが含まれます。画面内のコンテナではありません。"},{id:92,category:"ダッシュボード・アクション",question:"アナリストが完成したTableauダッシュボードを、Tableau DesktopやTableau Server/Cloudのライセンスを持たない同僚と共有したいと考えています。同僚は、共有されたファイル内でフィルターやツールヒントを使ってデータを対話的に探索できる必要があります。この要件を満たし、同僚がTableau Readerを使用して対話的な分析を行うために、アナリストが出力すべきファイル形式はどれですか？",options:["A. TWB（Tableauワークブック）","B. CSV（カンマ区切り値）ファイル","C. TWBX（Tableauパッケージドワークブック）","D. PDF（ポータブルドキュメントフォーマット）"],answer:"C",explanation:"A. TWB TWBファイルはワークブックの定義情報のみを含みます。基礎となるデータは含まれていないため、受信者がデータソースにアクセスできない場合、ビューを表示できません。\nB. CSV CSVファイルは生のデータであり、Tableauで作成された視覚化や対話性は含まれません。\nC. TWBX 正解です。TWBXファイルは、Tableauワークブックと使用されているデータを単一のファイルにパッケージ化したものです。受信者はTableau Readerを使用して対話的な分析を行うことができます。\nD. PDF PDFはダッシュボードの静的なスナップショットを作成しますが、フィルターやハイライトなどの対話的な操作はできません。"},{id:93,category:"ダッシュボード・アクション",question:"アナリストが、会社のブランドガイドラインに厳密に従ってダッシュボードをデザインしており、Tableauのデフォルトのパレットには含まれていない特定のHEXコード（例：#1A458B）を使用して色分けしたいと考えています。Tableau Desktopで利用可能なデフォルトのカラーパレット以外に、カスタムの企業カラーパレットを永続的に追加するために、アナリストが編集すべきファイルはどれですか？",options:["A. Tableauワークブックファイル（.twb）","B. Tableauデータ抽出ファイル（.hyper）","C. Tableauデータソースファイル（.tds）","D. Tableau環境設定ファイル（.tps）"],answer:"D",explanation:"A. .twb 特定のワークブックの視覚化、計算、レイアウトの定義を保存しますが、アプリケーション全体で使用されるグローバルなカスタムカラーパレットの設定は保存しません。\nB. .hyper Tableauの高速データエンジンに最適化された抽出データを保存するファイルであり、カラーパレットの情報は含まれていません。\nC. .tds データソースへの接続情報やメタデータを保存しますが、カスタムカラーパレットを定義するファイルではありません。\nD. .tps 正解です。Tableau環境設定ファイル（Preferences.tps）はXML形式のファイルで、カスタムカラーパレットの定義を追加するために編集します。"},{id:94,category:"ダッシュボード・アクション",question:"アナリストが、地域ディメンションを列シェルフに、売上合計メジャーを行シェルフに配置した棒グラフを作成しました。アナリストは、このグラフを売上高が高い地域から低い地域へと、降順に並べ替える必要があります。この視覚化要件を満たすために、地域ディメンションを売上合計に基づいて並べ替えるための最も正確な方法として推奨されるのはどれですか？",options:["A. 地域のディメンションを右クリックし、「累計」計算を適用する","B. ツールバーのクイック並べ替えアイコンを複数回クリックして、順序を調整する","C. 売上合計の軸を右クリックし、「逆順」を選択する","D. 地域ディメンションを右クリックし、「並べ替え」を選択して、「フィールド」に基づいて「売上合計」を降順で設定する"],answer:"D",explanation:"A. 誤り 累計計算は累積値を計算するものであり、ディメンションの順序を変更する並べ替え機能ではありません。\nB. 誤り この方法でも並べ替えは可能ですが、「最も正確な方法」としては、Dの方がどのフィールドに基づいて並べ替えられているかを明確に定義できます。\nC. 誤り 軸の逆順はメジャーの値の向きを変更するもので、ディメンションの順序を変更する機能ではありません。\nD. 正解 ディメンションの「並べ替え」ダイアログで、「フィールド」に基づいて集計フィールドと方向を指定することで、正確に並べ替えを定義できます。"},{id:95,category:"ダッシュボード・アクション",question:"アナリストが、地域別売上と製品別利益の2つのワークシートをダッシュボードに配置しています。ダッシュボードのサイズが変更されたり、異なる画面サイズで表示されたりしても、この2つのワークシートが常に横に並び、利用可能なスペースに応じて均等にサイズが自動調整されるようにしたいと考えています。このレスポンシブな配置を実現するために、ダッシュボードにワークシートを配置する際に使用すべき適切なレイアウトオブジェクトはどれですか？",options:["A. 垂直コンテナ","B. テキストオブジェクト","C. 浮動オブジェクト","D. 水平コンテナ"],answer:"D",explanation:"A. 垂直コンテナ 垂直コンテナはオブジェクトを上から下へ配置します。横に並べて均等にサイズを調整する要件には適していません。\nB. テキストオブジェクト テキストオブジェクトは静的なテキストを表示するためのもので、ワークシートのレイアウト管理には使用できません。\nC. 浮動オブジェクト 浮動オブジェクトは特定の絶対位置に固定され、サイズも固定されます。レスポンシブな要件に反します。\nD. 水平コンテナ 正解です。水平コンテナはオブジェクトを左から右へ配置し、「内容を均等に配布」設定で、ダッシュボードのサイズ変更時にワークシートのサイズを比例的に自動調整できます。"},{id:96,category:"ダッシュボード・アクション",question:"「Sales Analysis Dashboard」を使用して、いずれかの製品をクリックすると、「All Products」ワークシートに移動するようにする必要があります。これをどのように達成しますか？",options:["A. ダッシュボード -> アクションに移動し、[URLへ移動] アクションを作成する","B. ダッシュボード -> アクションに移動し、[シートへ移動] アクションを作成する","C. ダッシュボード -> アクションに移動し、[ハイライト] アクションを作成する","D. ビューを右クリックし、[書式設定] に移動して、URL を指定する"],answer:"B",explanation:"A. 誤り [URLへ移動] アクションは、Webページなどの外部URLにナビゲートするために使用されます。ワークブック内の別のワークシートに移動する要件は満たしません。\nB. 正解 [シートへ移動] アクションは、ユーザーがダッシュボード上のマークをクリックしたときに、同じワークブック内の別のワークシートやダッシュボードに移動させるために設計された機能です。\nC. 誤り [ハイライト] アクションは選択したマークに関連するデータをビュー内で強調表示するために使用されます。別のシートへのナビゲーションは行いません。\nD. 誤り [書式設定] メニューはビューの外観を調整するためのものであり、ナビゲーションアクションを設定する場所ではありません。"},{id:97,category:"ダッシュボード・アクション",question:"ツールチップにビジュアライゼーションを追加するにはどうすればよいですか？",options:["A. マークカードの [ツールチップ] に移動し、[挿入] -> [シート] をクリックします","B. [ワークシート] メニューに移動し、[ツールチップ] をクリックして、[挿入] -> [シート] をクリックします","C. [書式設定] メニューに移動し、[ツールチップ] をクリックして、[挿入] -> [シート] をクリックします","D. ビューを右クリックし、[ツールチップ] をクリックして、[挿入] -> [シート] を追加します"],answer:"A",explanation:"A. 正解 マークカードの「ツールチップ」シェルフをクリックすると、ツールヒントの編集ダイアログが開きます。「挿入」ボタンから他のワークシートを選択して、Viz in Tooltipを設定できます。\nB. 正解 「ワークシート」メニューから「ツールチップ」を選択しても、同じ編集ダイアログを開くことができます。\nC. 誤り 「書式設定」メニューはビューの外観を調整するためのものです。ツールヒントにシートを挿入する機能はここにはありません。\nD. 誤り ビューを右クリックしても、ツールヒントにシートを挿入するためのダイアログを直接開くオプションは表示されません。",multiSelect:true,correctAnswers:["A","B"],numSelect:2},{id:98,category:"ダッシュボード・アクション",question:"電話レイアウトがデフォルトダッシュボードへの変更を自動的に反映するようにするために、どの正しいオプションを選択しますか？",options:["A. 電話レイアウトオプションの右側にある開いた鍵のアイコンをクリックします","B. 電話レイアウトオプションの右側にある3つの点をクリックし、[レイアウトの最適化] を選択します","C. 電話レイアウトオプションの右側にある3つの点をクリックし、[レイアウトの自動生成] を選択します","D. 上記すべて"],answer:"A",explanation:"A. 正解 開いた鍵アイコンは、レイアウトがデフォルトダッシュボードにリンクされていることを示します。閉じた鍵をクリックして開いた状態にすると、自動反映が保証されます。\nB. 誤り [レイアウトの最適化] は標準的なメニューオプションではありません。\nC. 正解 [レイアウトの自動生成] を選択すると、カスタム設定が破棄され、デフォルトダッシュボードに基づいてレイアウトが自動的に再生成されます。\nD. 誤り Bが不正解であるため、この選択肢は正しくありません。",multiSelect:true,correctAnswers:["A","C"],numSelect:2},{id:99,category:"ダッシュボード・アクション",question:"Tableau Desktopで、フィルターやハイライトアクションを含むインタラクティブなダッシュボードを作成しました。このダッシュボードを、Tableau Desktopがインストールされていないコンピューターを使用している同僚を含む、組織内の多くのユーザーと共有し、彼らがWebブラウザ上でダッシュボードを操作できるようにしたいと考えています。この要件を満たすための最も標準的で効果的な共有方法は何ですか？",options:["A. ダッシュボードをPDFファイルとしてエクスポートし、共有フォルダに保存する。","B. ワークブックをパッケージドワークブック (.twbx) として保存し、メールで配布する。","C. ダッシュボードの各ビューを画像ファイルとしてエクスポートし、イントラネットに掲載する。","D. ワークブックを組織のTableau ServerまたはTableau Cloudサイトにパブリッシュ（公開）する。"],answer:"D",explanation:"A. 誤り PDFは静的なスナップショットであり、フィルターやアクションなどの対話的な機能は利用できません。\nB. 誤り TWBXファイルを開くにはTableau DesktopまたはTableau Readerが必要であり、Webブラウザだけで利用することはできません。\nC. 誤り 画像ファイルは静的なスナップショットであり、インタラクティブ性は完全に失われます。\nD. 正解 Tableau ServerやTableau Cloudにパブリッシュすると、権限を持つユーザーはWebブラウザを使ってダッシュボードにアクセスし、フィルター、ハイライト、パラメータ操作などの対話的な機能をそのまま利用できます。"},{id:100,category:"計算・LOD表現",question:"顧客ごとの初回購入日を計算し、ビューの粒度に関係なく表示したい場合、どのLOD表現を使用しますか？",options:["A. {INCLUDE [顧客ID]: MIN([注文日])}","B. {EXCLUDE [顧客ID]: MIN([注文日])}","C. {FIXED [顧客ID]: MIN([注文日])}","D. MIN([注文日])"],answer:"C",explanation:"A. 誤り INCLUDEはビューの粒度に指定したディメンションを追加するため、ビューの粒度の影響を受けます。\n\nB. 誤り EXCLUDEはビューの粒度から指定したディメンションを除外するため、目的と逆の動作になります。\n\nC. 正解 FIXEDは指定したディメンション（顧客ID）のレベルで計算を固定し、ビューの粒度に関係なく一貫した結果を返します。\n\nD. 誤り 通常の集計関数はビューの粒度で計算されるため、ビューの構成によって結果が変わります。"},{id:101,category:"計算・LOD表現",question:"売上データで、各地域の売上合計を計算し、その地域内の各都市の売上がその地域全体に占める割合を計算したい。どの計算式が適切ですか？",options:["A. SUM([売上]) / {FIXED : SUM([売上])}","B. SUM([売上]) / {FIXED [地域]: SUM([売上])}","C. SUM([売上]) / {INCLUDE [地域]: SUM([売上])}","D. SUM([売上]) / {EXCLUDE [都市]: SUM([売上])}"],answer:"B",explanation:"A. 誤り {FIXED : SUM([売上])} はディメンションを指定しないため、データセット全体の売上合計を返します。地域ごとの割合ではなく、全体に対する割合になります。\n\nB. 正解 {FIXED [地域]: SUM([売上])} は各地域の売上合計を返すため、都市の売上を地域の売上で割ることで、地域内での割合が計算できます。\n\nC. 誤り INCLUDEはビューの粒度に地域を追加しますが、都市レベルのビューでは期待通りに動作しません。\n\nD. 誤り EXCLUDEで都市を除外すると、ビューの他のディメンションの影響を受けるため、純粋な地域レベルの計算にはなりません。"},{id:102,category:"計算・LOD表現",question:"ビューに「地域」「カテゴリ」が配置されている状態で、「地域」のみで売上合計を計算したい場合、どのLOD表現が最適ですか？",options:["A. {FIXED [地域]: SUM([売上])}","B. {INCLUDE [地域]: SUM([売上])}","C. {EXCLUDE [カテゴリ]: SUM([売上])}","D. AまたはC"],answer:"D",explanation:"A. 正解の一つ FIXEDは指定したディメンションのみで計算するため、「地域」レベルの売上合計を返します。\n\nB. 誤り INCLUDEはビューの粒度（地域+カテゴリ）に地域を追加しますが、既に地域がビューにあるため、期待通りの結果になりません。\n\nC. 正解の一つ EXCLUDEでカテゴリを除外すると、残りの「地域」レベルで計算されます。\n\nD. 正解 FIXEDとEXCLUDEの両方で同じ結果が得られます。FIXEDは絶対的な指定、EXCLUDEは相対的な指定です。"},{id:103,category:"計算・LOD表現",question:"次のうち、LOD表現の計算順序について正しいものはどれですか？",options:["A. FIXED → ディメンションフィルター → INCLUDE/EXCLUDE","B. ディメンションフィルター → FIXED → INCLUDE/EXCLUDE","C. INCLUDE/EXCLUDE → FIXED → ディメンションフィルター","D. FIXED → INCLUDE/EXCLUDE → ディメンションフィルター"],answer:"A",explanation:"A. 正解 FIXEDはディメンションフィルターより先に計算されます。その後、ディメンションフィルターが適用され、最後にINCLUDE/EXCLUDEが計算されます。\n\nB. 誤り FIXEDはディメンションフィルターの影響を受けません（コンテキストフィルターは除く）。\n\nC. 誤り INCLUDE/EXCLUDEはFIXEDより後に計算されます。\n\nD. 誤り INCLUDE/EXCLUDEはディメンションフィルターの後に計算されます。"},{id:104,category:"計算・LOD表現",question:"顧客の平均注文額を計算し、その顧客の平均注文額の全顧客平均を求めたい場合、どの計算式が正しいですか？",options:["A. AVG([売上])","B. AVG({FIXED [顧客ID]: AVG([売上])})","C. {FIXED : AVG({FIXED [顧客ID]: SUM([売上])})}","D. AVG({FIXED [顧客ID]: SUM([売上])})"],answer:"D",explanation:"A. 誤り これは全取引の平均売上であり、顧客ごとの平均注文額の平均ではありません。\n\nB. 誤り ネストされたFIXED内でAVGを使うと、各顧客の取引ごとの平均を計算してしまい、注文単位ではなくなります。\n\nC. 誤り 外側のFIXEDで全体を固定していますが、構造が複雑で目的に合いません。\n\nD. 正解 まず{FIXED [顧客ID]: SUM([売上])}で各顧客の総売上を計算し、AVGでその平均を取ることで、顧客あたりの平均購入額が計算できます。"},{id:105,category:"計算・LOD表現",question:"売上の前月比増減を計算するために最も適切な表計算はどれですか？",options:["A. RUNNING_SUM(SUM([売上]))","B. LOOKUP(SUM([売上]), -1)","C. SUM([売上]) - LOOKUP(SUM([売上]), -1)","D. WINDOW_SUM(SUM([売上]), -1, 0)"],answer:"C",explanation:"A. 誤り RUNNING_SUMは累計を計算する関数で、前月との差分は計算しません。\n\nB. 誤り LOOKUPは前月の値を取得するだけで、差分は計算しません。\n\nC. 正解 現在の月の売上からLOOKUP関数で取得した前月の売上を引くことで、前月比増減が計算できます。\n\nD. 誤り WINDOW_SUMはウィンドウ内の合計を計算するもので、差分計算には適していません。"},{id:106,category:"計算・LOD表現",question:"表計算で「テーブル（横）」と「テーブル（下）」の違いについて正しいものはどれですか？",options:["A. どちらも同じ結果を返す","B. 「横」は行方向、「下」は列方向に計算を進める","C. 「横」は列方向、「下」は行方向に計算を進める","D. 「横」は左から右、「下」は上から下に計算を進める"],answer:"D",explanation:"A. 誤り 計算方向によって結果は大きく異なります。\n\nB. 誤り 方向の説明が逆です。\n\nC. 誤り 方向の説明が逆です。\n\nD. 正解 「テーブル（横）」は左から右へ各行を独立して計算し、「テーブル（下）」は上から下へ各列を独立して計算します。"},{id:107,category:"計算・LOD表現",question:"売上データで各カテゴリ内での製品売上ランキングを計算する場合、表計算の設定で重要なのは？",options:["A. 集計方法をSUMからRANKに変更する","B. 「次を使用して計算」で製品をアドレッシングに設定する","C. フィルターでカテゴリを選択する","D. 製品をディメンションからメジャーに変換する"],answer:"B",explanation:"A. 誤り RANKは集計方法ではなく、表計算関数です。\n\nB. 正解 カテゴリ内でランキングを計算するには、カテゴリをパーティション（区切り）、製品をアドレッシング（計算方向）に設定します。「次を使用して計算」で製品を選択すると、製品がアドレッシングになります。\n\nC. 誤り フィルターはデータを絞り込むだけで、カテゴリ内のランキング計算には直接関係しません。\n\nD. 誤り 製品はディメンションのままでランキング計算が可能です。"},{id:108,category:"計算・LOD表現",question:"WINDOW_AVG(SUM([売上]), -2, 0) の計算結果について正しいものはどれですか？",options:["A. 全期間の売上平均","B. 現在の行から2行後までの3行の平均","C. 現在の行から2行前までの3行の平均","D. 直前2行のみの平均"],answer:"C",explanation:"A. 誤り 全期間の平均を計算するにはWINDOW_AVG(SUM([売上]), FIRST(), LAST())を使用します。\n\nB. 誤り -2は「前」を意味し、0は「現在」を意味します。\n\nC. 正解 WINDOW_AVG(SUM([売上]), -2, 0)は、現在の行（0）から2行前（-2）までの3行の平均を計算します。これは3期間移動平均に相当します。\n\nD. 誤り 現在の行も含まれるため、3行の平均になります。"},{id:109,category:"計算・LOD表現",question:"表計算とLOD表現の違いについて、正しいものはどれですか？",options:["A. 両方ともデータソースレベルで計算される","B. 表計算はビューの集計後に計算され、LODはクエリ時に計算される","C. 表計算はフィルターの前に実行され、LODはフィルターの後に実行される","D. 両方とも同じタイミングで計算される"],answer:"B",explanation:"A. 誤り 表計算はデータソースレベルではなく、Tableauのビュー上で計算されます。\n\nB. 正解 LOD表現はデータベースへのクエリ時に計算され、表計算はビューに表示されるデータの集計が完了した後に計算されます。\n\nC. 誤り 表計算はフィルターの最後（表計算フィルターを除く）に実行されます。\n\nD. 誤り 実行タイミングは異なります。"},{id:110,category:"データ接続・データソース",question:"データブレンドを使用する場合、セカンダリデータソースのメジャーについて正しいものはどれですか？",options:["A. 非集計で使用できる","B. 必ず集計関数（SUM、AVGなど）で囲む必要がある","C. ディメンションとして使用できる","D. LOD表現で使用できる"],answer:"B",explanation:"A. 誤り セカンダリデータソースのメジャーは非集計では使用できません。\n\nB. 正解 データブレンドでは、セカンダリデータソースはプライマリの粒度に合わせて集計された結果を返すため、メジャーは必ず集計関数で囲む必要があります。\n\nC. 誤り メジャーは集計値として使用されます。\n\nD. 誤り LOD表現は単一のデータソース内でのみ機能し、ブレンドされたデータソースでは使用できません。"},{id:111,category:"データ接続・データソース",question:"抽出（Extract）を作成できないシナリオはどれですか？",options:["A. ライブ接続からの変換","B. データブレンドの結果","C. クロスデータベース結合の結果","D. ユニオンの結果"],answer:"B",explanation:"A. 誤り ライブ接続から抽出への変換は可能です。\n\nB. 正解 データブレンドはワークシートレベルで行われる操作であり、データソースレベルで作成される抽出には変換できません。\n\nC. 誤り クロスデータベース結合の結果からも抽出を作成できます。\n\nD. 誤り ユニオンの結果からも抽出を作成できます。"},{id:112,category:"フィルター・パラメータ・セット",question:"「売上上位10製品」を地域ごとに表示したい場合、地域フィルターはどのように設定すべきですか？",options:["A. 通常のディメンションフィルターとして設定","B. コンテキストフィルターとして設定","C. データソースフィルターとして設定","D. 表計算フィルターとして設定"],answer:"B",explanation:"A. 誤り 通常のディメンションフィルターでは、Top N計算が全データで行われた後にフィルターが適用されるため、地域ごとの上位10製品にはなりません。\n\nB. 正解 コンテキストフィルターは他のフィルターより先に適用されるため、まず地域でデータを絞り込み、その後Top N計算が行われます。\n\nC. 誤り データソースフィルターも先に適用されますが、動的な切り替えには向いていません。\n\nD. 誤り 表計算フィルターは最後に適用されるため、Top N計算には影響しません。"},{id:113,category:"フィルター・パラメータ・セット",question:"フィルターの実行順序で、最も早く実行されるのはどれですか？",options:["A. コンテキストフィルター","B. ディメンションフィルター","C. データソースフィルター","D. 抽出フィルター"],answer:"D",explanation:"A. 誤り コンテキストフィルターは3番目に実行されます。\n\nB. 誤り ディメンションフィルターは4番目に実行されます。\n\nC. 誤り データソースフィルターは2番目に実行されます。\n\nD. 正解 抽出フィルターは抽出作成時に適用され、最も早く実行されます。順序: 抽出 → データソース → コンテキスト → ディメンション → メジャー → 表計算"},{id:114,category:"フィルター・パラメータ・セット",question:"FIXED LOD表現に影響を与えることができるフィルターはどれですか？",options:["A. ディメンションフィルター","B. メジャーフィルター","C. コンテキストフィルター","D. 表計算フィルター"],answer:"C",explanation:"A. 誤り ディメンションフィルターはFIXED LODの後に適用されるため、影響を与えません。\n\nB. 誤り メジャーフィルターもFIXED LODの後に適用されます。\n\nC. 正解 コンテキストフィルターはFIXED LOD表現より前に適用されるため、FIXEDの計算に影響を与えることができます。\n\nD. 誤り 表計算フィルターは最後に適用されます。"}];

// カテゴリリスト
const categories = [...new Set(allQuestions.map(q => q.category))].sort();

let questions = [];
let currentIndex = 0;
let selectedAnswers = [];
let showResult = false;
let score = 0;
let quizComplete = false;
let quizMode = 'menu';
let questionCount = 10;
let wrongAnswers = [];
let selectedCategory = 'all';

function shuffleArray(array) {
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}

function startQuiz(count, category = 'all') {
  questionCount = count;
  selectedCategory = category;
  
  let pool = category === 'all' 
    ? allQuestions 
    : allQuestions.filter(q => q.category === category);
  
  if (count === 0) {
    // 全問モード
    questions = shuffleArray(pool);
    questionCount = questions.length;
  } else {
    questions = shuffleArray(pool).slice(0, Math.min(count, pool.length));
    questionCount = questions.length;
  }
  
  currentIndex = 0;
  selectedAnswers = [];
  showResult = false;
  score = 0;
  quizComplete = false;
  quizMode = 'quiz';
  wrongAnswers = [];
  render();
}

function backToMenu() {
  quizMode = 'menu';
  render();
}

function showCategorySelect() {
  quizMode = 'category';
  render();
}

function getOptionLetter(option) { return option.charAt(0); }

function isCorrectAnswer(optionLetter) {
  const q = questions[currentIndex];
  if (q.correctAnswers) return q.correctAnswers.includes(optionLetter);
  return q.answer === optionLetter;
}

function handleAnswerSelect(optionLetter) {
  if (showResult) return;
  const q = questions[currentIndex];
  if (q.multiSelect || q.correctAnswers) {
    if (selectedAnswers.includes(optionLetter)) {
      selectedAnswers = selectedAnswers.filter(a => a !== optionLetter);
    } else {
      selectedAnswers.push(optionLetter);
    }
  } else {
    selectedAnswers = [optionLetter];
  }
  render();
}

function checkAnswer() {
  if (selectedAnswers.length === 0) return;
  const q = questions[currentIndex];
  const correctAnswers = q.correctAnswers ? q.correctAnswers.sort() : [q.answer];
  const userAnswers = [...selectedAnswers].sort();
  const isCorrect = correctAnswers.length === userAnswers.length &&
    correctAnswers.every((ans, idx) => ans === userAnswers[idx]);
  if (isCorrect) {
    score++;
  } else {
    wrongAnswers.push({question: q, userAnswers: [...selectedAnswers], correctAnswers: correctAnswers});
  }
  showResult = true;
  render();
}

function nextQuestion() {
  if (currentIndex < questions.length - 1) {
    currentIndex++;
    selectedAnswers = [];
    showResult = false;
  } else {
    quizComplete = true;
  }
  render();
}

function getOptionStyle(optionLetter) {
  const isSelected = selectedAnswers.includes(optionLetter);
  if (!showResult) {
    return isSelected ? 'background:#dbeafe;border:2px solid #3b82f6;' : 'background:white;border:1px solid #d1d5db;';
  }
  if (isCorrectAnswer(optionLetter)) return 'background:#dcfce7;border:2px solid #22c55e;';
  if (isSelected && !isCorrectAnswer(optionLetter)) return 'background:#fee2e2;border:2px solid #ef4444;';
  return 'background:#f3f4f6;border:1px solid #d1d5db;';
}

function formatExplanation(explanation, correctAnswers) {
  const parts = explanation.split(/(?=^[A-F]\. )/m);
  if (parts.length <= 1) return `<div class="explanation-text">${explanation}</div>`;
  
  let html = '<div class="space-y-3">';
  for (const part of parts) {
    const trimmed = part.trim();
    if (!trimmed) continue;
    const letter = trimmed.charAt(0);
    const isCorrect = correctAnswers.includes(letter);
    const className = isCorrect ? 'explanation-item correct' : 'explanation-item incorrect';
    let formatted = trimmed.replace(/正解/g, '<span class="font-bold text-green-600">正解</span>');
    formatted = formatted.replace(/誤り/g, '<span class="text-gray-500">誤り</span>');
    html += `<div class="${className}"><p class="explanation-text">${formatted}</p></div>`;
  }
  html += '</div>';
  return html;
}

function formatWrongExplanation(explanation, correctAnswers) {
  const parts = explanation.split(/(?=^[A-F]\. )/m);
  if (parts.length <= 1) return `<p class="text-sm leading-relaxed">${explanation}</p>`;
  
  let html = '<div class="space-y-2">';
  for (const part of parts) {
    const trimmed = part.trim();
    if (!trimmed) continue;
    const letter = trimmed.charAt(0);
    const isCorrect = correctAnswers.includes(letter);
    const className = isCorrect ? 'wrong-explanation-item correct' : 'wrong-explanation-item incorrect';
    let formatted = trimmed.replace(/正解/g, '<span class="font-bold text-green-600">正解</span>');
    html += `<div class="${className}"><p class="text-sm">${formatted}</p></div>`;
  }
  html += '</div>';
  return html;
}

function getCategoryCount(cat) {
  return allQuestions.filter(q => q.category === cat).length;
}

function renderMenu() {
  return `
    <div class="max-w-2xl mx-auto">
      <div class="bg-white rounded-xl shadow-lg p-8">
        <h1 class="text-2xl font-bold text-center mb-2">📊 Tableau Desktop Specialist</h1>
        <h2 class="text-xl text-gray-600 text-center mb-2">模擬試験（全114問・完全版）</h2>
        
        <div class="mb-6 p-4 bg-blue-50 rounded-lg">
          <p class="text-blue-800 text-center font-medium">合格ライン: 70%以上</p>
        </div>
        
        <div class="space-y-3 mb-6">
          <p class="text-sm font-medium text-gray-600 text-center">📝 問題数を選択</p>
          <button onclick="startQuiz(10)" class="w-full bg-blue-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-blue-700 transition cursor-pointer shadow-md">
            🎯 10問モード<span class="block text-sm font-normal opacity-80">約10分</span>
          </button>
          <button onclick="startQuiz(20)" class="w-full bg-green-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-green-700 transition cursor-pointer shadow-md">
            📝 20問モード<span class="block text-sm font-normal opacity-80">約20分</span>
          </button>
          <button onclick="startQuiz(45)" class="w-full bg-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-purple-700 transition cursor-pointer shadow-md">
            📋 45問モード<span class="block text-sm font-normal opacity-80">本番形式・約60分</span>
          </button>
          <button onclick="startQuiz(0)" class="w-full bg-red-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-red-700 transition cursor-pointer shadow-md">
            🏆 全114問モード<span class="block text-sm font-normal opacity-80">約100分</span>
          </button>
        </div>
        
        <div class="border-t pt-6">
          <button onclick="showCategorySelect()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition cursor-pointer">
            📁 カテゴリ別に挑戦
          </button>
        </div>
        
        <div class="mt-6 p-4 bg-gray-50 rounded-lg">
          <p class="text-center text-gray-600 text-sm font-medium mb-2">収録カテゴリ</p>
          <div class="grid grid-cols-2 gap-2 text-xs text-gray-500">
            ${categories.map(cat => `<div>• ${cat} (${getCategoryCount(cat)})</div>`).join('')}
          </div>
        </div>
      </div>
    </div>`;
}

function renderCategorySelect() {
  return `
    <div class="max-w-2xl mx-auto">
      <div class="bg-white rounded-xl shadow-lg p-8">
        <h1 class="text-xl font-bold text-center mb-6">📁 カテゴリ別に挑戦</h1>
        
        <div class="space-y-3">
          ${categories.map(cat => {
            const count = getCategoryCount(cat);
            const colors = {
              'データ接続・データソース': 'bg-blue-100 text-blue-800 hover:bg-blue-200',
              'データ準備・項目操作': 'bg-cyan-100 text-cyan-800 hover:bg-cyan-200',
              '計算・LOD表現': 'bg-purple-100 text-purple-800 hover:bg-purple-200',
              'ビジュアライゼーション作成': 'bg-green-100 text-green-800 hover:bg-green-200',
              'マップ・地理的分析': 'bg-teal-100 text-teal-800 hover:bg-teal-200',
              '分析機能': 'bg-orange-100 text-orange-800 hover:bg-orange-200',
              'フィルター・パラメータ・セット': 'bg-pink-100 text-pink-800 hover:bg-pink-200',
              'ダッシュボード・アクション': 'bg-indigo-100 text-indigo-800 hover:bg-indigo-200',
            };
            const colorClass = colors[cat] || 'bg-gray-100 text-gray-800 hover:bg-gray-200';
            return `<button onclick="startQuiz(0, '${cat}')" class="w-full ${colorClass} py-3 px-6 rounded-xl font-medium transition cursor-pointer text-left">
              <span class="font-semibold">${cat}</span>
              <span class="float-right">${count}問</span>
            </button>`;
          }).join('')}
        </div>
        
        <div class="mt-6">
          <button onclick="backToMenu()" class="w-full bg-gray-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 transition cursor-pointer">
            ← メニューに戻る
          </button>
        </div>
      </div>
    </div>`;
}

function renderResult() {
  const percentage = Math.round((score / questions.length) * 100);
  let resultColor = percentage >= 70 ? '#22c55e' : percentage >= 50 ? '#f59e0b' : '#ef4444';
  let bgColor = percentage >= 70 ? '#dcfce7' : percentage >= 50 ? '#fef3c7' : '#fee2e2';
  let textColor = percentage >= 70 ? '#166534' : percentage >= 50 ? '#92400e' : '#991b1b';
  let message = percentage >= 70 ? '🎉 素晴らしい！合格ラインです。' : percentage >= 50 ? '📚 もう少しです。復習して再挑戦しましょう。' : '💪 基礎からしっかり復習しましょう。';
  
  const categoryLabel = selectedCategory === 'all' ? '' : ` (${selectedCategory})`;
  
  let wrongHtml = wrongAnswers.length > 0 ? `
    <div class="mt-6 border-t pt-6">
      <h3 class="font-bold text-lg mb-4 text-red-600">❌ 間違えた問題 (${wrongAnswers.length}問)</h3>
      <div class="space-y-4 max-h-[32rem] overflow-y-auto pr-2">
        ${wrongAnswers.map((item, idx) => `
          <div class="p-5 bg-white rounded-xl border border-red-200 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">${item.question.category}</span>
            </div>
            <p class="font-medium mb-3 text-gray-800 leading-relaxed">${item.question.question}</p>
            <div class="flex gap-4 text-sm mb-3">
              <p class="text-red-600">❌ あなた: <span class="font-medium">${item.userAnswers.join(', ')}</span></p>
              <p class="text-green-600">✅ 正解: <span class="font-medium">${item.correctAnswers.join(', ')}</span></p>
            </div>
            <details class="group">
              <summary class="text-blue-600 text-sm cursor-pointer hover:text-blue-700 font-medium">📖 解説を見る</summary>
              <div class="mt-3 p-3 bg-blue-50 rounded-lg">
                ${formatWrongExplanation(item.question.explanation, item.correctAnswers)}
              </div>
            </details>
          </div>
        `).join('')}
      </div>
    </div>` : '';
  
  return `
    <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8">
      <h1 class="text-2xl font-bold text-center mb-6">🎯 試験結果${categoryLabel}</h1>
      <div class="text-center mb-8">
        <div class="text-6xl font-bold mb-2" style="color:${resultColor}">${score} / ${questions.length}</div>
        <div class="text-2xl text-gray-600">正解率: ${percentage}%</div>
      </div>
      <div class="mb-6 p-4 rounded-lg" style="background:${bgColor}">
        <p class="text-center font-medium" style="color:${textColor}">${message}</p>
      </div>
      <div class="space-y-3">
        <button onclick="startQuiz(${questionCount === questions.length ? 0 : questionCount}, '${selectedCategory}')" class="w-full bg-blue-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-blue-700 transition cursor-pointer shadow-md">🔄 同じ設定でもう一度</button>
        <button onclick="backToMenu()" class="w-full bg-gray-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 transition cursor-pointer shadow-md">📋 メニューに戻る</button>
      </div>
      ${wrongHtml}
    </div>`;
}

function renderQuiz() {
  const q = questions[currentIndex];
  const isMulti = q.multiSelect || q.correctAnswers;
  const correctAnswers = q.correctAnswers ? q.correctAnswers : [q.answer];
  
  let optionsHtml = q.options.map((option) => {
    const letter = getOptionLetter(option);
    const style = getOptionStyle(letter);
    const cursor = showResult ? 'cursor-default' : 'cursor-pointer hover:shadow-md';
    const optionContent = option.substring(3);
    return `
      <button onclick="handleAnswerSelect('${letter}')" class="w-full text-left p-4 rounded-xl transition ${cursor}" style="${style}" ${showResult ? 'disabled' : ''}>
        <div class="flex items-start gap-3">
          <span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center font-bold text-gray-600">${letter}</span>
          <span class="option-text pt-1">${optionContent}</span>
        </div>
      </button>`;
  }).join('');
  
  let explanationHtml = showResult ? `
    <div class="mt-6 p-5 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200">
      <p class="font-bold text-blue-800 mb-4 flex items-center gap-2"><span class="text-xl">📖</span> 解説</p>
      ${formatExplanation(q.explanation, correctAnswers)}
    </div>` : '';
  
  let buttonHtml = !showResult 
    ? `<button onclick="checkAnswer()" class="flex-1 py-4 px-6 rounded-xl font-semibold transition cursor-pointer shadow-md ${selectedAnswers.length === 0 ? 'bg-gray-300 cursor-not-allowed text-gray-500' : 'bg-blue-600 hover:bg-blue-700 text-white hover:shadow-lg'}" ${selectedAnswers.length === 0 ? 'disabled' : ''}>✅ 回答する</button>`
    : `<button onclick="nextQuestion()" class="flex-1 bg-green-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-green-700 transition cursor-pointer shadow-md hover:shadow-lg">${currentIndex < questions.length - 1 ? '➡️ 次の問題へ' : '📊 結果を見る'}</button>`;
  
  return `
    <div class="max-w-2xl mx-auto">
      <div class="bg-white rounded-xl shadow-md p-4 mb-4">
        <div class="flex justify-between items-center mb-2">
          <span class="text-sm font-medium text-gray-600">📝 問題 ${currentIndex + 1} / ${questions.length}</span>
          <span class="text-sm font-medium text-blue-600">🏆 スコア: ${score}</span>
        </div>
        <div class="bg-gray-200 rounded-full h-2.5">
          <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2.5 rounded-full transition-all duration-300" style="width:${((currentIndex + 1) / questions.length) * 100}%"></div>
        </div>
      </div>
      <div class="bg-white rounded-xl shadow-lg p-6">
        <div class="mb-4 flex flex-wrap gap-2">
          <span class="inline-block bg-gray-100 text-gray-700 text-xs px-3 py-1.5 rounded-full font-medium">📁 ${q.category}</span>
          ${isMulti ? '<span class="inline-block bg-yellow-100 text-yellow-800 text-xs px-3 py-1.5 rounded-full font-medium">⚠️ 複数選択' + (q.numSelect ? ' (' + q.numSelect + '問選択)' : '') + '</span>' : ''}
        </div>
        <h2 class="text-lg font-semibold mb-6 text-gray-800 question-text">${q.question}</h2>
        <div class="space-y-3">${optionsHtml}</div>
        ${explanationHtml}
        <div class="mt-6 flex gap-3">${buttonHtml}</div>
      </div>
      <div class="text-center mt-4">
        <button onclick="backToMenu()" class="text-gray-500 hover:text-blue-600 text-sm transition">← メニューに戻る</button>
      </div>
    </div>`;
}

function render() {
  const app = document.getElementById('app');
  if (quizMode === 'menu') app.innerHTML = renderMenu();
  else if (quizMode === 'category') app.innerHTML = renderCategorySelect();
  else if (quizComplete) app.innerHTML = renderResult();
  else app.innerHTML = renderQuiz();
  window.scrollTo(0, 0);
}

render();
  </script>
</body>
</html>
